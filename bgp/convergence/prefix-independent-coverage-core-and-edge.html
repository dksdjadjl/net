
<!doctype html>
<html lang="en-US" id="html">
<head> 
    <script src="https://www.googleoptimize.com/optimize.js?id=GTM-N6QRZFG"></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
    <link rel="shortcut icon" href="https://cdn.networklessons.com/wp-content/themes/networklessons/assets/images/favicon/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="https://cdn.networklessons.com/wp-content/themes/networklessons/assets/images/favicon/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="https://cdn.networklessons.com/wp-content/themes/networklessons/assets/images/favicon/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="https://cdn.networklessons.com/wp-content/themes/networklessons/assets/images/favicon/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="https://cdn.networklessons.com/wp-content/themes/networklessons/assets/images/favicon/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="https://cdn.networklessons.com/wp-content/themes/networklessons/assets/images/favicon/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="https://cdn.networklessons.com/wp-content/themes/networklessons/assets/images/favicon/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="https://cdn.networklessons.com/wp-content/themes/networklessons/assets/images/favicon/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="https://cdn.networklessons.com/wp-content/themes/networklessons/assets/images/favicon/apple-touch-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.networklessons.com/wp-content/themes/networklessons/assets/images/favicon/apple-touch-icon-180x180.png" />
	<meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1' />

<!-- Google Tag Manager for WordPress by gtm4wp.com -->
<script data-cfasync="false" data-pagespeed-no-defer>
	var gtm4wp_datalayer_name = "dataLayer";
	var dataLayer = dataLayer || [];
</script>
<!-- End Google Tag Manager for WordPress by gtm4wp.com -->
	<!-- This site is optimized with the Yoast SEO plugin v23.4 - https://yoast.com/wordpress/plugins/seo/ -->
	<title>BGP PIC (Prefix Independent Convergence) Core &amp; Edge</title><link rel="preload" data-rocket-preload as="image" href="https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-topology-ce-pe-p-routers.png" imagesrcset="https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-topology-ce-pe-p-routers.png 3302w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-topology-ce-pe-p-routers-300x67.png 300w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-topology-ce-pe-p-routers-768x172.png 768w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-topology-ce-pe-p-routers-1024x230.png 1024w" imagesizes="(max-width: 3302px) 100vw, 3302px" fetchpriority="high">
	<meta name="description" content="BGP PIC (Prefix Independent Convergence) reduces data plane convergence times. There is BGP PIC core and PIC edge. This lesson explains it in detail." />
	<link rel="canonical" href="https://networklessons.com/cisco/ccie-routing-switching-written/bgp-pic-prefix-independent-convergence-core-edge" />
	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="article" />
	<meta property="og:title" content="BGP PIC (Prefix Independent Convergence) Core &amp; Edge" />
	<meta property="og:description" content="BGP PIC (Prefix Independent Convergence) reduces data plane convergence times. There is BGP PIC core and PIC edge. This lesson explains it in detail." />
	<meta property="og:url" content="https://networklessons.com/cisco/ccie-routing-switching-written/bgp-pic-prefix-independent-convergence-core-edge" />
	<meta property="og:site_name" content="NetworkLessons.com" />
	<meta property="article:published_time" content="2018-03-29T11:31:17+00:00" />
	<meta property="article:modified_time" content="2022-05-14T21:14:46+00:00" />
	<meta property="og:image" content="https://cdn.networklessons.com/wp-content/uploads/2018/03/brown-dna-string-blue-background.jpg" />
	<meta property="og:image:width" content="1200" />
	<meta property="og:image:height" content="1200" />
	<meta property="og:image:type" content="image/jpeg" />
	<meta name="author" content="Rene Molenaar" />
	<meta name="twitter:label1" content="Written by" />
	<meta name="twitter:data1" content="Rene Molenaar" />
	<meta name="twitter:label2" content="Est. reading time" />
	<meta name="twitter:data2" content="20 minutes" />
	<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"WebPage","@id":"https://networklessons.com/cisco/ccie-routing-switching-written/bgp-pic-prefix-independent-convergence-core-edge","url":"https://networklessons.com/cisco/ccie-routing-switching-written/bgp-pic-prefix-independent-convergence-core-edge","name":"BGP PIC (Prefix Independent Convergence) Core & Edge","isPartOf":{"@id":"https://networklessons.com/#website"},"primaryImageOfPage":{"@id":"https://networklessons.com/cisco/ccie-routing-switching-written/bgp-pic-prefix-independent-convergence-core-edge#primaryimage"},"image":{"@id":"https://networklessons.com/cisco/ccie-routing-switching-written/bgp-pic-prefix-independent-convergence-core-edge#primaryimage"},"thumbnailUrl":"https://cdn.networklessons.com/wp-content/uploads/2018/03/brown-dna-string-blue-background.jpg","datePublished":"2018-03-29T11:31:17+00:00","dateModified":"2022-05-14T21:14:46+00:00","author":{"@id":"https://networklessons.com/#/schema/person/a210ceb8a2b14b76e03c27d3c65850c2"},"description":"BGP PIC (Prefix Independent Convergence) reduces data plane convergence times. There is BGP PIC core and PIC edge. This lesson explains it in detail.","breadcrumb":{"@id":"https://networklessons.com/cisco/ccie-routing-switching-written/bgp-pic-prefix-independent-convergence-core-edge#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://networklessons.com/cisco/ccie-routing-switching-written/bgp-pic-prefix-independent-convergence-core-edge"]}]},{"@type":"ImageObject","inLanguage":"en-US","@id":"https://networklessons.com/cisco/ccie-routing-switching-written/bgp-pic-prefix-independent-convergence-core-edge#primaryimage","url":"https://cdn.networklessons.com/wp-content/uploads/2018/03/brown-dna-string-blue-background.jpg","contentUrl":"https://cdn.networklessons.com/wp-content/uploads/2018/03/brown-dna-string-blue-background.jpg","width":1200,"height":1200,"caption":"Brown Dna String Blue Background"},{"@type":"BreadcrumbList","@id":"https://networklessons.com/cisco/ccie-routing-switching-written/bgp-pic-prefix-independent-convergence-core-edge#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Networklessons.com","item":"https://networklessons.com/"},{"@type":"ListItem","position":2,"name":"Cisco","item":"https://networklessons.com/cisco"},{"@type":"ListItem","position":3,"name":"CCIE Routing &amp; Switching Written","item":"https://networklessons.com/cisco/ccie-routing-switching-written"},{"@type":"ListItem","position":4,"name":"BGP PIC (Prefix Independent Convergence) Core &#038; Edge"}]},{"@type":"WebSite","@id":"https://networklessons.com/#website","url":"https://networklessons.com/","name":"NetworkLessons.com","description":"","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://networklessons.com/?s={search_term_string}"},"query-input":{"@type":"PropertyValueSpecification","valueRequired":true,"valueName":"search_term_string"}}],"inLanguage":"en-US"},{"@type":"Person","@id":"https://networklessons.com/#/schema/person/a210ceb8a2b14b76e03c27d3c65850c2","name":"Rene Molenaar","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https://networklessons.com/#/schema/person/image/","url":"https://secure.gravatar.com/avatar/d676347ef395e3b3a6a056aaf5546311?s=96&d=mm&r=g","contentUrl":"https://secure.gravatar.com/avatar/d676347ef395e3b3a6a056aaf5546311?s=96&d=mm&r=g","caption":"Rene Molenaar"},"description":"Ren√© - CCIE #41726 is the creator of Networklessons.com where he writes about networking topics like Cisco, Routing, Switching, Linux, Wireless &amp; Security. He also created GNS3Vault.com where people can study Cisco labs for free.","sameAs":["https://networklessons.com"]}]}</script>
	<!-- / Yoast SEO plugin. -->


<link rel='dns-prefetch' href='//player.vimeo.com' />
<link rel='dns-prefetch' href='//cdn.networklessons.com' />
<link rel='dns-prefetch' href='//googletagmanager.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//googleoptimize.com' />
<link rel='dns-prefetch' href='//ajax.googleapis.com' />
<link rel='dns-prefetch' href='//tag.getdrip.com' />
<link rel='dns-prefetch' href='//facebook.com' />

<link href='https://cdn.networklessons.com' rel='preconnect' />
<link rel='stylesheet' id='mp-theme-css' href='https://cdn.networklessons.com/wp-content/plugins/memberpress/css/ui/theme.css?ver=1.11.34' type='text/css' media='all' />
<style id='wp-emoji-styles-inline-css' type='text/css'>

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel='stylesheet' id='wp-block-library-css' href='https://cdn.networklessons.com/wp-includes/css/dist/block-library/style.min.css?ver=6.6.2' type='text/css' media='all' />
<style id='safe-svg-svg-icon-style-inline-css' type='text/css'>
.safe-svg-cover{text-align:center}.safe-svg-cover .safe-svg-inside{display:inline-block;max-width:100%}.safe-svg-cover svg{height:100%;max-height:100%;max-width:100%;width:100%}

</style>
<style id='classic-theme-styles-inline-css' type='text/css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='global-styles-inline-css' type='text/css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel='stylesheet' id='arve-css' href='https://cdn.networklessons.com/wp-content/plugins/advanced-responsive-video-embedder/build/main.css?ver=755e5bf2bfafc15e7cc1' type='text/css' media='all' />
<link rel='stylesheet' id='arve-pro-css' href='https://cdn.networklessons.com/wp-content/plugins/arve-pro/build/main.css?ver=eea34735566740155d0f' type='text/css' media='all' />
<link rel='stylesheet' id='emnl-custom-styling-various-plugins-css' href='https://cdn.networklessons.com/wp-content/plugins/emnl-custom-css-various-plugins/emnl-custom-css-various-plugins.css?ver=1720772937' type='text/css' media='all' />
<link rel='stylesheet' id='affwp-forms-css' href='https://cdn.networklessons.com/wp-content/plugins/affiliate-wp/assets/css/forms.min.css?ver=2.26.0' type='text/css' media='all' />
<link rel='stylesheet' id='ez-toc-css' href='https://cdn.networklessons.com/wp-content/plugins/easy-table-of-contents/assets/css/screen.min.css?ver=2.0.69.1' type='text/css' media='all' />
<style id='ez-toc-inline-css' type='text/css'>
div#ez-toc-container .ez-toc-title {font-size: 100%;}div#ez-toc-container .ez-toc-title {font-weight: 700;}div#ez-toc-container ul li {font-size: 100%;}div#ez-toc-container ul li {font-weight: 500;}div#ez-toc-container nav ul ul li {font-size: 90%;}div#ez-toc-container {background: #f9f9f9;border: 1px solid #e6e6e6;}div#ez-toc-container p.ez-toc-title , #ez-toc-container .ez_toc_custom_title_icon , #ez-toc-container .ez_toc_custom_toc_icon {color: #000000;}div#ez-toc-container ul.ez-toc-list a {color: #5381b5;}div#ez-toc-container ul.ez-toc-list a:hover {color: #5381b5;}div#ez-toc-container ul.ez-toc-list a:visited {color: #5381b5;}
.ez-toc-container-direction {direction: ltr;}.ez-toc-counter ul{counter-reset: item ;}.ez-toc-counter nav ul li a::before {content: counters(item, '.', decimal) '. ';display: inline-block;counter-increment: item;flex-grow: 0;flex-shrink: 0;margin-right: .2em; float: left; }.ez-toc-widget-direction {direction: ltr;}.ez-toc-widget-container ul{counter-reset: item ;}.ez-toc-widget-container nav ul li a::before {content: counters(item, '.', decimal) '. ';display: inline-block;counter-increment: item;flex-grow: 0;flex-shrink: 0;margin-right: .2em; float: left; }
</style>
<link rel='stylesheet' id='if-menu-site-css-css' href='https://cdn.networklessons.com/wp-content/plugins/if-menu/assets/if-menu-site.css?ver=6.6.2' type='text/css' media='all' />
<link rel='stylesheet' id='networklessons-style-css' href='https://cdn.networklessons.com/wp-content/themes/networklessons/dist/app.css?ver=1724843461' type='text/css' media='all' />
<link rel='stylesheet' id='magnific-popup-style-css' href='https://cdn.networklessons.com/wp-content/themes/networklessons/dist/magnific-popup/magnific-popup.css?ver=1.1.0' type='text/css' media='all' />
<link rel='stylesheet' id='bellows-css' href='https://cdn.networklessons.com/wp-content/plugins/bellows-pro/pro/assets/css/bellows.min.css?ver=1.4.3' type='text/css' media='all' />
<script type="text/javascript" src="https://cdn.networklessons.com/wp-includes/js/jquery/jquery.min.js?ver=3.7.1" id="jquery-core-js"></script>
<script type="text/javascript" src="https://cdn.networklessons.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.1" id="jquery-migrate-js"></script>
<script type="text/javascript" id="jquery-cookie-js-extra">
/* <![CDATA[ */
var affwp_scripts = {"ajaxurl":"https:\/\/networklessons.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type="text/javascript" src="https://cdn.networklessons.com/wp-content/plugins/affiliate-wp/assets/js/jquery.cookie.min.js?ver=1.4.0" id="jquery-cookie-js"></script>
<script type="text/javascript" id="affwp-tracking-js-extra">
/* <![CDATA[ */
var affwp_debug_vars = {"integrations":{"memberpress":"MemberPress"},"version":"2.26.0","currency":"USD","ref_cookie":"affwp_ref","visit_cookie":"affwp_ref_visit_id","campaign_cookie":"affwp_campaign"};
/* ]]> */
</script>
<script type="text/javascript" src="https://cdn.networklessons.com/wp-content/plugins/affiliate-wp/assets/js/tracking.min.js?ver=2.26.0" id="affwp-tracking-js"></script>
<link rel="https://api.w.org/" href="https://networklessons.com/wp-json/" /><link rel="alternate" title="JSON" type="application/json" href="https://networklessons.com/wp-json/wp/v2/posts/55842" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://networklessons.com/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 6.6.2" />
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="https://networklessons.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fnetworklessons.com%2Fcisco%2Fccie-routing-switching-written%2Fbgp-pic-prefix-independent-convergence-core-edge" />
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="https://networklessons.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fnetworklessons.com%2Fcisco%2Fccie-routing-switching-written%2Fbgp-pic-prefix-independent-convergence-core-edge&#038;format=xml" />
<style id="bellows-custom-generated-css">

/** Bellows Custom Tweaks (General Settings) **/

/** Bellows Custom Tweaks (General Settings) **/
/* More compact look of menu */
.bellows .bellows-nav * { line-height: 1.75em; }
.bellows .bellows-nav .bellows-submenu .bellows-target { padding-left: 20px;}
.bellows .bellows-nav .bellows-target,
.bellows .bellows-nav .bellows-submenu .bellows-target { padding: 2px;}

/* Move toggle icons to left instead of right of text labels */
.bellows .bellows-nav .bellows-subtoggle { width: 30px; left:0; }
.bellows .bellows-nav .bellows-menu-item > .bellows-target > .bellows-target-text { margin-left: 30px; }
.bellows .bellows-nav .bellows-subtoggle .fa { top: 40%; }

/* Move toggle icons and lower level items to the right */
.bellows .bellows-nav .bellows-submenu .bellows-item-level-1 .bellows-subtoggle { left: 25px; }
.bellows .bellows-nav .bellows-submenu .bellows-item-level-1 .bellows-target { padding-left: 25px; }

.bellows .bellows-nav .bellows-submenu .bellows-item-level-2 .bellows-subtoggle { left: 50px; }
.bellows .bellows-nav .bellows-submenu .bellows-item-level-2 .bellows-target { padding-left: 50px; }


/* SIDEBAR ONLY STYLING */

/* Set all text to default black */
#sidebar .bellows .bellows-nav a.bellows-target { color: #000000 }

/* Set parent menu items bold and colored */
#sidebar .bellows.bellows-main .bellows-nav .bellows-current-menu-item > .bellows-target,
#sidebar .bellows.bellows-main .bellows-nav .bellows-current-menu-ancestor > .bellows-target { color:#557fae; font-weight: bold; }

/* Set current post bold and colored */
#sidebar .bellows .bellows-current-menu-item { font-weight: bold; color:#557fae; }

/* Toggle icons on same height */
#sidebar .bellows .bellows-nav .bellows-subtoggle .fa { top: 44%; }



/* Status: Loaded from Transient */

</style>		<script type="text/javascript">
		var AFFWP = AFFWP || {};
		AFFWP.referral_var = 'affid';
		AFFWP.expiration = 1;
		AFFWP.debug = 0;


		AFFWP.referral_credit_last = 0;
		</script>

<!-- Google Tag Manager for WordPress by gtm4wp.com -->
<!-- GTM Container placement set to manual -->
<script data-cfasync="false" data-pagespeed-no-defer type="text/javascript">
	var dataLayer_content = {"visitorLoginState":"logged-in","visitorType":"subscriber","visitorEmail":"harthomp@protonmail.com","visitorEmailHash":"30617de159321682ca448e5d89fc5cae66131a43cdfff8865f5d749c58146885","visitorId":65289,"visitorIP":"203.63.201.230","pagePostType":"post","pagePostType2":"single-post","pageCategory":["bgp","ccie-routing-switching-written","ccnp-enarsi-300-410"],"IsActiveMember":"true","UserFullName":"Harrison Thompson buckley"};
	dataLayer.push( dataLayer_content );
</script>
<script>
		if (typeof gtag == "undefined") {
			function gtag(){dataLayer.push(arguments);}
		}

		gtag("consent", "default", {
			"analytics_storage": "granted",
			"ad_storage": "granted",
			"ad_user_data": "granted",
			"ad_personalization": "granted",
			"functionality_storage": "granted",
			"security_storage": "granted",
			"personalization_storage": "granted",
		});
</script>
<script data-cfasync="false">
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NWFSBS');
</script>
<!-- End Google Tag Manager for WordPress by gtm4wp.com --><link rel="apple-touch-icon" sizes="180x180" href="/wp-content/uploads/fbrfg/apple-touch-icon.png?v=69P4gG4Gpq">
<link rel="icon" type="image/png" sizes="32x32" href="/wp-content/uploads/fbrfg/favicon-32x32.png?v=69P4gG4Gpq">
<link rel="icon" type="image/png" sizes="16x16" href="/wp-content/uploads/fbrfg/favicon-16x16.png?v=69P4gG4Gpq">
<link rel="manifest" href="/wp-content/uploads/fbrfg/site.webmanifest?v=69P4gG4Gpq">
<link rel="mask-icon" href="/wp-content/uploads/fbrfg/safari-pinned-tab.svg?v=69P4gG4Gpq" color="#5381b5">
<link rel="shortcut icon" href="/wp-content/uploads/fbrfg/favicon.ico?v=69P4gG4Gpq">
<meta name="msapplication-TileColor" content="#5381b5">
<meta name="msapplication-config" content="/wp-content/uploads/fbrfg/browserconfig.xml?v=69P4gG4Gpq">
<meta name="theme-color" content="#5381b5">		<style>
			.algolia-search-highlight {
				background-color: #fffbcc;
				border-radius: 2px;
				font-style: normal;
			}
		</style>
		<script type="application/ld+json" class="emnl-schema-breadcrumbs">{"@context": "https://schema.org","@type": "BreadcrumbList","itemListElement": [{"@type": "ListItem","position": 0,"name": "Home","item": "https://networklessons.com"},{"@type": "ListItem","position": 1,"name": "BGP","item": "https://networklessons.com/bgp"},{"@type": "ListItem","position": 2,"name": "BGP PIC (Prefix Independent Convergence) Core &#038; Edge","item": "https://networklessons.com/bgp/bgp-pic-prefix-independent-convergence-core-edge"}]}</script>
</head>


<body class="post-template-default single single-post postid-55842 single-format-standard logged-in" data-theme="light">

<!-- GTM Container placement set to manual -->
<!-- Google Tag Manager (noscript) -->
				<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NWFSBS" height="0" width="0" style="display:none;visibility:hidden" aria-hidden="true"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><script>
  if ( localStorage.getItem('siteTheme') ) {
    document.body.setAttribute('data-theme', localStorage.getItem('siteTheme'));
  }
</script>
<div id="page" class="site">
	<a class="skip-link screen-reader-text" href="#main">Skip to content</a>
	<header class="site-header">
		        <div class="site-header-inner">
            <div class="container">
                <div class="row sm-gutters main-row">
                    <div class="col-lg-4 col-8">
                        <a href="https://networklessons.com/" class="logo">
                            <img width="524" height="141" src="https://cdn.networklessons.com/wp-content/themes/networklessons/assets/images/logo.svg" alt="NetworkLessons.com" />
                        </a>
                    </div>
                                                                <div class="col-lg-8 col-4 col-navigation">
                            <nav id="site-navigation" class="main-navigation">
                                <div class="menu-primary-container"><ul id="primary-menu" class="menu"><li id="menu-item-10143" class="expanded menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-10143"><a href="https://networklessons.com/courses">Courses <span class="menu-item-toggle"></span></a>
<ul class="sub-menu">
	<li id="menu-item-59830" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-59830"><a href="https://networklessons.com/cisco">Cisco <span class="menu-item-toggle"></span></a>
	<ul class="sub-menu">
		<li id="menu-item-65214" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65214"><a href="https://networklessons.com/cisco/ccna-200-301">CCNA 200-301</a></li>
		<li id="menu-item-65219" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65219"><a href="https://networklessons.com/cisco/ccnp-encor-350-401">CCNP ENCOR 350-401 v1.1</a></li>
		<li id="menu-item-65218" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65218"><a href="https://networklessons.com/cisco/ccnp-enarsi-300-410">CCNP ENARSI 300-410 v1.1</a></li>
		<li id="menu-item-65217" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65217"><a href="https://networklessons.com/cisco/ccie-enterprise-infrastructure">CCIE Enterprise Infrastructure</a></li>
		<li id="menu-item-65216" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65216"><a href="https://networklessons.com/cisco/asa-firewall">ASA Firewall</a></li>
		<li id="menu-item-65774" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65774"><a href="https://networklessons.com/cisco/cisco-sd-wan">Cisco SD-WAN</a></li>
	</ul>
</li>
	<li id="menu-item-59831" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-59831"><a href="https://networklessons.com/routing-switching">Routing &#038; Switching <span class="menu-item-toggle"></span></a>
	<ul class="sub-menu">
		<li id="menu-item-65232" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65232"><a href="https://networklessons.com/subnetting">Subnetting</a></li>
		<li id="menu-item-65233" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65233"><a href="https://networklessons.com/switching">Switching</a></li>
		<li id="menu-item-65231" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65231"><a href="https://networklessons.com/spanning-tree">Spanning-Tree</a></li>
		<li id="menu-item-65222" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65222"><a href="https://networklessons.com/frame-relay">Frame-Relay</a></li>
		<li id="menu-item-65230" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65230"><a href="https://networklessons.com/rip">RIP</a></li>
		<li id="menu-item-65221" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65221"><a href="https://networklessons.com/eigrp">EIGRP</a></li>
		<li id="menu-item-65227" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65227"><a href="https://networklessons.com/ospf">OSPF</a></li>
		<li id="menu-item-65224" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65224"><a href="https://networklessons.com/is-is">IS-IS</a></li>
		<li id="menu-item-65215" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65215"><a href="https://networklessons.com/bgp">BGP</a></li>
		<li id="menu-item-65226" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65226"><a href="https://networklessons.com/multicast">Multicast</a></li>
		<li id="menu-item-65223" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65223"><a href="https://networklessons.com/ipv6">IPv6</a></li>
		<li id="menu-item-65229" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65229"><a href="https://networklessons.com/quality-of-service">Quality of Service</a></li>
		<li id="menu-item-65225" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65225"><a href="https://networklessons.com/mpls">MPLS</a></li>
	</ul>
</li>
	<li id="menu-item-73291" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-73291"><a href="#">Data Center <span class="menu-item-toggle"></span></a>
	<ul class="sub-menu">
		<li id="menu-item-73294" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-73294"><a href="https://networklessons.com/vxlan">VXLAN</a></li>
	</ul>
</li>
	<li id="menu-item-65228" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65228"><a href="https://networklessons.com/python">Python</a></li>
	<li id="menu-item-65234" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-65234"><a href="https://networklessons.com/uncategorized">Miscellaneous</a></li>
	<li id="menu-item-70698" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-70698"><a href="https://networklessons.com/labs">Labs</a></li>
	<li id="menu-item-64907" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-64907"><a href="#">Legacy <span class="menu-item-toggle"></span></a>
	<ul class="sub-menu">
		<li id="menu-item-33774" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-33774"><a href="https://networklessons.com/cisco/ccna-routing-switching-icnd1-100-105">CCNA R&#038;S ICND1 100-105</a></li>
		<li id="menu-item-40575" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-40575"><a href="https://networklessons.com/cisco/ccna-routing-switching-icnd2-200-105">CCNA R&#038;S ICND2 200-105</a></li>
		<li id="menu-item-20090" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-20090"><a href="https://networklessons.com/cisco/ccnp-route">CCNP ROUTE</a></li>
		<li id="menu-item-20092" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-20092"><a href="https://networklessons.com/cisco/ccnp-switch">CCNP SWITCH</a></li>
		<li id="menu-item-20093" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-20093"><a href="https://networklessons.com/cisco/ccnp-tshoot">CCNP TSHOOT</a></li>
		<li id="menu-item-20089" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-20089"><a href="https://networklessons.com/cisco/ccie-routing-switching">CCIE R&#038;S</a></li>
		<li id="menu-item-38428" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-38428"><a href="https://networklessons.com/cisco/ccie-routing-switching-written">CCIE R&#038;S Written</a></li>
		<li id="menu-item-65220" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-65220"><a href="https://networklessons.com/cisco/evolving-technologies">Evolving Technologies</a></li>
	</ul>
</li>
	<li id="menu-item-8339" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8339"><a href="https://networklessons.com/new-lessons"><i class="fa fa-plus"></i> New Lessons</a></li>
	<li id="menu-item-64135" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-64135"><a href="https://networklessons.com/updated-lessons"><i class="fas fa-pen"></i> Updated Lessons</a></li>
	<li id="menu-item-7347" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7347"><a href="https://networklessons.com/member-ideas"><i class="fa fa-lightbulb"></i> Lesson Ideas</a></li>
</ul>
</li>
<li id="menu-item-8715" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8715"><a href="https://forum.networklessons.com">Forum</a></li>
<li id="menu-item-23483" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-23483"><a href="https://networklessons.com/support">Support</a></li>
<li id="menu-item-65967" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-65967"><a href="#">Tools <span class="menu-item-toggle"></span></a>
<ul class="sub-menu">
	<li id="menu-item-65968" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-65968"><a href="https://www.cloudshark.org/collections/WTRpgLI-GQSDfgzkQixICg">Packet Captures</a></li>
	<li id="menu-item-65969" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-65969"><a href="https://notes.networklessons.com">Notes</a></li>
	<li id="menu-item-65970" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-65970"><a href="https://networklessons.com/tools-and-resources">Resources</a></li>
	<li id="menu-item-68327" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-68327"><a href="https://networklessons.com/networklessons-exams">Practice Exams</a></li>
</ul>
</li>
<li id="menu-item-22148" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-22148"><a href="#"><i class="fa fa-user"></i> <span class="menu-item-toggle"></span></a>
<ul class="sub-menu">
	<li id="menu-item-5629" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5629"><a href="https://networklessons.com/myaccount">My Account Settings</a></li>
	<li id="menu-item-68092" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-68092"><a href="https://networklessons.com/member-dashboard">Member Dashboard</a></li>
	<li id="menu-item-22285" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-22285"><a href="https://networklessons.com/upgrade-to-annual-membership"><b><font color="#FFC469">UPGRADE TO ANNUAL &#038; Get 2 Months FREE!</font></b></a></li>
	<li id="menu-item-56969" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-56969"><a href="https://networklessons.com/wp-login.php?action=logout">Logout</a></li>
</ul>
</li>
</ul></div>                                <div class="main-navigation-close">
                                    <i class="far fa-times"></i>
                                </div>
                            </nav>
                            <div class="main-navigation-toggle">
                                <span class="icon"></span>
                            </div>
                            <div class="d-none d-xl-block">
                                

<form role="search" method="get" class="search-form" action="https://networklessons.com/">
    <label for="search-form-66e2ef8a79692" class="sr-only">
        <span class="screen-reader-text">Search for:</span>
    </label>

    <div class="input-group">
        <input type="search" id="search-form-66e2ef8a79692" class="search-field form-control" placeholder="Search &hellip;" value="" name="s" />
        <div class="input-group-append">
            <button type="submit" class="search-submit btn btn-white">
                <span class="screen-reader-text">Search</span>
                <i class="far fa-search"></i>
            </button>
        </div>
    </div>
</form>                            </div>
                        </div>
                                    </div>
            </div>
        </div>
        <div class="fullpage-overlay main-navigation-overlay"></div>
	</header>
    
            <div class="d-xl-none">
            

<form role="search" method="get" class="search-form" action="https://networklessons.com/">
    <label for="search-form-66e2ef8a796ed" class="sr-only">
        <span class="screen-reader-text">Search for:</span>
    </label>

    <div class="input-group">
        <input type="search" id="search-form-66e2ef8a796ed" class="search-field form-control" placeholder="Search &hellip;" value="" name="s" />
        <div class="input-group-append">
            <button type="submit" class="search-submit btn btn-white">
                <span class="screen-reader-text">Search</span>
                <i class="far fa-search"></i>
            </button>
        </div>
    </div>
</form>        </div>
    
	<div class="site-content container">
    <div class="breadcrumbs" style="font-size: 12px;">You are here: <a href="https://networklessons.com">Home</a> ¬ª <a href="https://networklessons.com/bgp">BGP</a></div>	<div class="site-content-row row">
	<div id="primary" class="content-area col-md-8">
		<main id="main" class="site-main">
                            <div class="site-actions-toolbar d-md-none">
                    <div class="site-action js--dark-mode">
                        <i class="far fa-adjust"></i>
                    </div>
                </div>
            
		
<article id="post-55842" class="main-post post-55842 post type-post status-publish format-standard has-post-thumbnail hentry category-bgp category-ccie-routing-switching-written category-ccnp-enarsi-300-410 tag-cef">
	<header class="entry-header">
                            <h1 class="entry-title">BGP PIC (Prefix Independent Convergence) Core &#038; Edge</h1>        	</header>
	<div class="entry-content">
                    <div class="the-content">
                <div id="ez-toc-container" class="ez-toc-v2_0_69_1 counter-hierarchy ez-toc-counter ez-toc-custom ez-toc-container-direction">
<div class="ez-toc-title-container"><p class="ez-toc-title">Lesson Contents</p>
</div><nav><ul class='ez-toc-list ez-toc-list-level-1 ' ><li class='ez-toc-page-1 ez-toc-heading-level-2'><a class="ez-toc-link ez-toc-heading-1" href="#BGP_PIC_Core" title="BGP PIC Core">BGP PIC Core</a></li><li class='ez-toc-page-1 ez-toc-heading-level-2'><a class="ez-toc-link ez-toc-heading-2" href="#BGP_PIC_Edge" title="BGP PIC Edge">BGP PIC Edge</a><ul class='ez-toc-list-level-3' ><li class='ez-toc-heading-level-3'><a class="ez-toc-link ez-toc-heading-3" href="#Without_BGP_PIC_Edge" title="Without BGP PIC Edge">Without BGP PIC Edge</a></li><li class='ez-toc-page-1 ez-toc-heading-level-3'><a class="ez-toc-link ez-toc-heading-4" href="#With_BGP_PIC_Edge" title="With BGP PIC Edge">With BGP PIC Edge</a></li></ul></li><li class='ez-toc-page-1 ez-toc-heading-level-2'><a class="ez-toc-link ez-toc-heading-5" href="#Conclusion" title="Conclusion">Conclusion</a></li></ul></nav></div>
<p>PIC (Prefix Independent Convergence) is a feature to decrease the <strong>data plane convergence time</strong>. There are two flavors:</p>
<ul>
<li><strong>BGP PIC Core</strong>: decreases convergence time when a core router fails and your IGP has to find a new best path to your PE router.</li>
<li><strong>BGP PIC Edge</strong>: decreases convergence time when a PE router fails and BGP has to switch to a different PE router.</li>
</ul>
<p>PIC is best explained by showing it in action. We&#8217;ll use the following topology:</p>
<p><img fetchpriority="high" decoding="async" class="alignnone size-full wp-image-55844" src="https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-topology-ce-pe-p-routers.png" alt="Bgp Pic Topology Ce Pe P Routers" width="3302" height="741" srcset="https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-topology-ce-pe-p-routers.png 3302w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-topology-ce-pe-p-routers-300x67.png 300w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-topology-ce-pe-p-routers-768x172.png 768w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-topology-ce-pe-p-routers-1024x230.png 1024w" sizes="(max-width: 3302px) 100vw, 3302px" /></p>
<p>Above, we have a small provider network in AS 2 with routers running iBGP. P2 is our route reflector in this network. We have two customers, CE1 and CE2. CE2 is advertising two prefixes in BGP. Within AS 2, we use OSPF as the IGP. I increased the cost on the interfaces of the P2 router so that P1 is the preferred path.</p>
<div class="responsive-tabs">
<p class="tabtitle">Configurations</p>
<div class="tabcontent">

<p>Want to take a look for yourself? Here you will find the startup configuration of each device.</p>

</div><p class="tabtitle">CE1</p>
<div class="tabcontent">

<pre><code>hostname CE1
!
ip cef

!
interface GigabitEthernet0/1
 ip address 192.168.12.1 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.13.1 255.255.255.0
!
router bgp 1
 bgp router-id 1.1.1.1
 neighbor 192.168.12.2 remote-as 2
 neighbor 192.168.13.3 remote-as 2
!
end</code></pre>

</div><p class="tabtitle">CE2</p>
<div class="tabcontent">

<pre><code>hostname CE2
!
ip cef
!
interface Loopback0
 ip address 8.8.8.8 255.255.255.255
!
interface Loopback1
 ip address 88.88.88.88 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.68.8 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.78.8 255.255.255.0
!
router bgp 8
 bgp router-id 8.8.8.8
 network 8.8.8.8 mask 255.255.255.255
 network 88.88.88.88 mask 255.255.255.255
 neighbor 192.168.68.6 remote-as 2
 neighbor 192.168.78.7 remote-as 2
!
end</code></pre>

</div><p class="tabtitle">P1</p>
<div class="tabcontent">

<pre><code>hostname P1
!
ip cef
!
interface Loopback0
 ip address 4.4.4.4 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.24.4 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.46.4 255.255.255.0
!
interface GigabitEthernet0/3
 ip address 192.168.34.4 255.255.255.0
!
interface GigabitEthernet0/4
 ip address 192.168.47.4 255.255.255.0
!
router ospf 1
 network 4.4.4.4 0.0.0.0 area 0
 network 192.168.24.0 0.0.0.255 area 0
 network 192.168.34.0 0.0.0.255 area 0
 network 192.168.46.0 0.0.0.255 area 0
 network 192.168.47.0 0.0.0.255 area 0
!
router bgp 2
 bgp router-id 4.4.4.4
 neighbor 5.5.5.5 remote-as 2
 neighbor 5.5.5.5 update-source Loopback0
!
end</code></pre>

</div><p class="tabtitle">P2</p>
<div class="tabcontent">

<pre><code>hostname P2
!
ip cef
!
interface Loopback0
 ip address 5.5.5.5 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.35.5 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.57.5 255.255.255.0
!
interface GigabitEthernet0/3
 ip address 192.168.25.5 255.255.255.0
!
interface GigabitEthernet0/4
 ip address 192.168.56.5 255.255.255.0
!
router ospf 1
 network 5.5.5.5 0.0.0.0 area 0
 network 192.168.25.0 0.0.0.255 area 0
 network 192.168.35.0 0.0.0.255 area 0
 network 192.168.56.0 0.0.0.255 area 0
 network 192.168.57.0 0.0.0.255 area 0
!
router bgp 2
 bgp router-id 5.5.5.5
 neighbor 2.2.2.2 remote-as 2
 neighbor 2.2.2.2 update-source Loopback0
 neighbor 2.2.2.2 route-reflector-client
 neighbor 3.3.3.3 remote-as 2
 neighbor 3.3.3.3 update-source Loopback0
 neighbor 3.3.3.3 route-reflector-client
 neighbor 4.4.4.4 remote-as 2
 neighbor 4.4.4.4 update-source Loopback0
 neighbor 4.4.4.4 route-reflector-client
 neighbor 6.6.6.6 remote-as 2
 neighbor 6.6.6.6 update-source Loopback0
 neighbor 6.6.6.6 route-reflector-client
 neighbor 7.7.7.7 remote-as 2
 neighbor 7.7.7.7 update-source Loopback0
 neighbor 7.7.7.7 route-reflector-client
!
end</code></pre>

</div><p class="tabtitle">PE1</p>
<div class="tabcontent">

<pre><code>hostname PE1
!
ip cef
!
interface Loopback0
 ip address 2.2.2.2 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.24.2 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.25.2 255.255.255.0
!
interface GigabitEthernet0/3
 ip address 192.168.12.2 255.255.255.0
!
router ospf 1
 network 2.2.2.2 0.0.0.0 area 0
 network 192.168.24.0 0.0.0.255 area 0
 network 192.168.25.0 0.0.0.255 area 0
!
router bgp 2
 bgp router-id 2.2.2.2
 neighbor 5.5.5.5 remote-as 2
 neighbor 5.5.5.5 update-source Loopback0
 neighbor 5.5.5.5 next-hop-self
 neighbor 192.168.12.1 remote-as 1
!
end</code></pre>

</div><p class="tabtitle">PE2</p>
<div class="tabcontent">

<pre><code>hostname PE2
!
ip cef
!
interface Loopback0
 ip address 3.3.3.3 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.35.3 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.34.3 255.255.255.0
!
interface GigabitEthernet0/3
 ip address 192.168.13.3 255.255.255.0
!
router ospf 1
 network 3.3.3.3 0.0.0.0 area 0
 network 192.168.34.0 0.0.0.255 area 0
 network 192.168.35.0 0.0.0.255 area 0
!
router bgp 2
 bgp router-id 3.3.3.3
 neighbor 5.5.5.5 remote-as 2
 neighbor 5.5.5.5 update-source Loopback0
 neighbor 192.168.13.1 remote-as 1
!
end</code></pre>

</div><p class="tabtitle">PE3</p>
<div class="tabcontent">

<pre><code>hostname PE3
!
ip cef
!
interface Loopback0
 ip address 6.6.6.6 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.46.6 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.56.6 255.255.255.0
!
interface GigabitEthernet0/3
 ip address 192.168.68.6 255.255.255.0
!
router ospf 1
 network 6.6.6.6 0.0.0.0 area 0
 network 192.168.46.0 0.0.0.255 area 0
 network 192.168.56.0 0.0.0.255 area 0
!
router bgp 2
 bgp router-id 6.6.6.6
 neighbor 5.5.5.5 remote-as 2
 neighbor 5.5.5.5 update-source Loopback0
 neighbor 5.5.5.5 next-hop-self
 neighbor 192.168.68.8 remote-as 8
!
end</code></pre>

</div><p class="tabtitle">PE4</p>
<div class="tabcontent">

<pre><code>hostname PE4
!
ip cef
!
interface Loopback0
 ip address 7.7.7.7 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.57.7 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.47.7 255.255.255.0
!
interface GigabitEthernet0/3
 ip address 192.168.78.7 255.255.255.0
!
router ospf 1
 network 7.7.7.7 0.0.0.0 area 0
 network 192.168.47.0 0.0.0.255 area 0
 network 192.168.57.0 0.0.0.255 area 0
!
router bgp 2
 bgp router-id 7.7.7.7
 neighbor 5.5.5.5 remote-as 2
 neighbor 5.5.5.5 update-source Loopback0
 neighbor 5.5.5.5 next-hop-self
 neighbor 192.168.78.8 remote-as 8
!
end</code></pre>
</div></div>
<h2><span class="ez-toc-section" id="BGP_PIC_Core"></span>BGP PIC Core<span class="ez-toc-section-end"></span></h2>
<p>PIC core helps to speed up convergence when there is a failure <strong>in the core</strong> of your network and the <strong>BGP next hop does not change</strong>.<br />
<br />
<br />
<span class="E9n6yQvmUmPeg5zauYRdfcQMSIsf3AW8xIOdl5VZbw3PTppHhTDiJj1r1XhLiqBoZY0240eatXFkKAJ7nHv4kWLE2jR8D9bBq"></p>
<div class="arve" data-mode="normal" data-oembed="1" data-provider="vimeo" id="arve-vimeo-262835379" style="max-width:700px;" data-reset-after-played data-fullscreen="disabled">
<div class="arve-inner">
<div class="arve-embed arve-embed--has-aspect-ratio">
<span class="arve-ar" style="padding-top:56.250000%"></span><iframe credentialless referrerpolicy="strict-origin-when-cross-origin" allow="accelerometer &#039;none&#039;;ambient-light-sensor &#039;none&#039;;autoplay &#039;none&#039;;battery &#039;none&#039;;bluetooth &#039;none&#039;;browsing-topics &#039;none&#039;;camera &#039;none&#039;;ch-ua &#039;none&#039;;clipboard-read &#039;none&#039;;clipboard-write;display-capture &#039;none&#039;;document-domain &#039;none&#039;;domain-agent &#039;none&#039;;encrypted-media &#039;none&#039;;execution-while-not-rendered &#039;none&#039;;execution-while-out-of-viewport &#039;none&#039;;gamepad &#039;none&#039;;geolocation &#039;none&#039;;gyroscope &#039;none&#039;;hid &#039;none&#039;;identity-credentials-get &#039;none&#039;;idle-detection &#039;none&#039;;keyboard-map &#039;none&#039;;local-fonts &#039;none&#039;;magnetometer &#039;none&#039;;microphone &#039;none&#039;;midi &#039;none&#039;;navigation-override &#039;none&#039;;otp-credentials &#039;none&#039;;payment &#039;none&#039;;picture-in-picture;publickey-credentials-create &#039;none&#039;;publickey-credentials-get &#039;none&#039;;screen-wake-lock &#039;none&#039;;serial &#039;none&#039;;speaker-selection;sync-xhr &#039;none&#039;;usb &#039;none&#039;;web-share;window-management &#039;none&#039;;xr-spatial-tracking &#039;none&#039;;" allowfullscreen class="arve-iframe fitvidsignore" data-arve="arve-vimeo-262835379" data-src-no-ap="https://player.vimeo.com/video/262835379?dnt=0&amp;app_id=122963&amp;html5=1&amp;title=0&amp;byline=0&amp;portrait=0&amp;autoplay=0" frameborder="0" height="393.75" name sandbox="allow-scripts allow-same-origin allow-presentation allow-popups allow-popups-to-escape-sandbox allow-forms" scrolling="no" src="https://player.vimeo.com/video/262835379?dnt=0&#038;app_id=122963&#038;html5=1&#038;title=0&#038;byline=0&#038;portrait=0&#038;autoplay=0" width="700" title="bgp-pic-core-configuration-1080p" loading="lazy"></iframe></p>
</div>
</div>
<p><script type="application/ld+json">{"@context":"http:\/\/schema.org\/","@id":"https:\/\/networklessons.com\/cisco\/ccie-routing-switching-written\/bgp-pic-prefix-independent-convergence-core-edge#arve-vimeo-262835379","type":"VideoObject","embedURL":"https:\/\/player.vimeo.com\/video\/262835379?dnt=0&app_id=122963&html5=1&title=0&byline=0&portrait=0&autoplay=0","name":"bgp-pic-core-configuration-1080p","thumbnailUrl":"https:\/\/i.vimeocdn.com\/video\/692213553-f1d06463cd29461447ee535dbe0d499c379cd8a91182fed428f8416b841b88f8-d_640","uploadDate":"2018-03-29T11:31:17+00:00","author":"NetworkLessons.com","duration":"PT17M53S","description":"1"}</script>
</div>
<p></span><br />
<br />
Let&#8217;s have a look at PE1:</p>
<pre><code>PE1#<strong>show ip bgp</strong>
BGP table version is 23, local router ID is 2.2.2.2
Status codes: s suppressed, d damped, h history, * valid, &gt; best, i - internal, 
              r RIB-failure, S Stale, m multipath, b backup-path, f RT-Filter, 
              x best-external, a additional-path, c RIB-compressed, 
              t secondary path, 
Origin codes: i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

     Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i  <span style="color: #ff0000;">8.8.8.8/32       6.6.6.6</span>                  0    100      0 8 i
 *&gt;i  <span style="color: #ff0000;">88.88.88.88/32   6.6.6.6</span>                  0    100      0 8 i</code></pre>
<p>Let&#8217;s focus on 8.8.8.8/32 and 88.88.88.88/32. These two prefixes were advertised by CE2 and PE1 learned them from P2 (our route reflector). The next hop for both prefixes is 6.6.6.6. When PE1 wants to reach CE2, our traffic path looks like this:</p>
<p><img decoding="async" class="alignnone size-full wp-image-55857" src="https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-traffic-path-pe1-ce2.png" alt="Bgp Pic Core Traffic Path Pe1 Ce2" width="1651" height="424" srcset="https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-traffic-path-pe1-ce2.png 1651w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-traffic-path-pe1-ce2-300x77.png 300w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-traffic-path-pe1-ce2-768x197.png 768w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-traffic-path-pe1-ce2-1024x263.png 1024w" sizes="(max-width: 1651px) 100vw, 1651px" /></p>
<p>How does 6.6.6.6 get resolved? Let&#8217;s have a look:</p>
<pre><code>PE1#<strong>show ip route 6.6.6.6</strong>
Routing entry for 6.6.6.6/32
  <span style="color: #ff0000;">Known via "ospf 1"</span>, distance 110, metric 3, type intra area
  Last update from 192.168.24.4 on GigabitEthernet0/1, 00:44:32 ago
  Routing Descriptor Blocks:
  * <span style="color: #ff0000;">192.168.24.4</span>, from 6.6.6.6, 00:44:32 ago, <span style="color: #ff0000;">via GigabitEthernet0/1</span>
      Route metric is 3, traffic share count is 1</code></pre>
<p>We learn about 6.6.6.6 through OSPF and to get to this next hop, we use next hop 192.168.24.4 through interface GigabitEthernet0/1. This is what gets installed in the FIB (CEF table):</p>
<pre><code>PE1#<strong>show ip cef 6.6.6.6</strong>
6.6.6.6/32
  <span style="color: #ff0000;">nexthop 192.168.24.4 GigabitEthernet0/1</span></code></pre>
<p>What about those two prefixes? This is how they show up in the FIB:</p>
<pre><code>PE1#<strong>show ip cef | include 8.8</strong>
<span style="color: #ff0000;">8.8.8.8/32           192.168.24.4         GigabitEthernet0/1
88.88.88.88/32       192.168.24.4         GigabitEthernet0/1</span></code></pre>
<p>Here&#8217;s a quick summary of the recursive routing we saw:</p>
<ul>
<li>BGP: to get to 8.8.8.8/32 and 88.88.88.88/32 we use next hop 6.6.6.6.</li>
<li>IGP: to get to 6.6.6.6/32 we use next hop 192.168.24.4 with interface GigabitEthernet0/1.</li>
<li>FIB:
<ul>
<li>8.8.8.8/32 via 192.168.24.4 interface GigabitEthernet0/1</li>
<li>88.88.88.88/32 via 192.168.24.4 interface GigabitEthernet0/1</li>
</ul>
</li>
</ul>
<p>For <strong>each prefix</strong> you have learned, you find an entry like this in the FIB. We only have two prefixes but if you learned a million prefixes through BGP, you&#8217;ll see them here.</p>
<p>Disaster strikes our provider and suddenly P1 fails:</p>
<p><img decoding="async" class="alignnone size-full wp-image-55849" src="https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-p1-failure.png" alt="Bgp Pic Core P1 Failure" width="1651" height="371" srcset="https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-p1-failure.png 1651w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-p1-failure-300x67.png 300w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-p1-failure-768x173.png 768w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-p1-failure-1024x230.png 1024w" sizes="(max-width: 1651px) 100vw, 1651px" /></p>
<p>How does this impact PE1 and how it gets to CE2?</p>
<p>Let&#8217;s find out! To see what happens in real-time, I&#8217;ll create an access-list that matches the next hop (6.6.6.6) and our two prefixes (8.8.8.8/32 and 88.88.88.88/32). We attach the access-list to a debug:</p>
<pre><code>PE1(config)#<strong>access-list 1 permit host 6.6.6.6</strong>
PE1(config)#<strong>access-list 1 permit host 8.8.8.8</strong>
PE1(config)#<strong>access-list 1 permit host 88.88.88.88</strong>

PE1#<strong>debug ip routing 1</strong>
IP routing debugging is on for access list 1</code></pre>
<p>Let&#8217;s shut all interfaces of P1 now:</p>
<pre><code>P1(config)#<strong>interface range GigabitEthernet 0/1 - 4</strong>
P1(config-if-range)#<strong>shutdown</strong></code></pre>
<p>Now it&#8217;s up to OSPF to figure out that P1 is gone and find a new path to 6.6.6.6:</p>
<pre><code>PE1#
RT: <span style="color: #ff0000;">updating ospf 6.6.6.6/32</span> (0x0)  :
    <span style="color: #ff0000;">via 192.168.25.5 Gi0/2</span>  0 1048578

RT: closer admin distance for 6.6.6.6, flushing 1 routes
RT: <span style="color: #ff0000;">add 6.6.6.6/32 via 192.168.25.5</span>, ospf metric [110/4]
RT: <span style="color: #ff0000;">updating bgp 8.8.8.8/32</span> (0x0)  :
    via 6.6.6.6   0 1048577

RT: closer admin distance for 8.8.8.8, flushing 1 routes
RT: add 8.8.8.8/32 via 6.6.6.6, bgp metric [200/0]
RT: <span style="color: #ff0000;">updating bgp 88.88.88.88/32</span> (0x0)  :
    <span style="color: #ff0000;">via 6.6.6.6</span>   0 1048577

RT: closer admin distance for 88.88.88.88, flushing 1 routes
RT: <span style="color: #ff0000;">add 88.88.88.88/32 via 6.6.6.6</span>, bgp metric [200/0]</code></pre>
<p>We see that OSPF reconverges and installs 192.168.25.5 (P2) as the new next hop to get to 6.6.6.6/32. BGP is also updated. Let&#8217;s take a look at the BGP table:</p>
<pre><code>PE1#<strong>show ip bgp</strong>
BGP table version is 33, local router ID is 2.2.2.2
Status codes: s suppressed, d damped, h history, * valid, &gt; best, i - internal, 
              r RIB-failure, S Stale, m multipath, b backup-path, f RT-Filter, 
              x best-external, a additional-path, c RIB-compressed, 
              t secondary path, 
Origin codes: i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

     Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i  8.8.8.8/32       <span style="color: #ff0000;">6.6.6.6</span>                  0    100      0 8 i
 *&gt;i  88.88.88.88/32   <span style="color: #ff0000;">6.6.6.6</span>                  0    100      0 8 i</code></pre>
<p>Nothing changed in the BGP table, this makes sense since <strong>our next hop did not change</strong>. Only the path to get to the next hop. Let&#8217;s take a look at OSPF:</p>
<pre><code>PE1#<strong>show ip route 6.6.6.6</strong>
Routing entry for 6.6.6.6/32
  Known via "ospf 1", distance 110, metric 4, type intra area
  Last update from 192.168.25.5 on GigabitEthernet0/2, 00:02:06 ago
  Routing Descriptor Blocks:
  * <span style="color: #ff0000;">192.168.25.5</span>, from 6.6.6.6, 00:02:06 ago, <span style="color: #ff0000;">via GigabitEthernet0/2</span>
      Route metric is 4, traffic share count is 1</code></pre>
<p>We see that OSPF now uses 192.168.25.5 (P2) to get to 6.6.6.6/32 via the GigabitEthernet0/2 interface. Let&#8217;s take a look at the FIB for our next hop:</p>
<pre><code>PE1#<strong>show ip cef 6.6.6.6</strong>
6.6.6.6/32
  <span style="color: #ff0000;">nexthop 192.168.25.5 GigabitEthernet0/2</span></code></pre>
<p>Above, we see the new next hop for 6.6.6.6/32 and interface in the FIB. Let&#8217;s take a look at the FIB entries for our two prefixes:</p>
<pre><code>PE1#<strong>show ip cef | include 8.8    </strong>
8.8.8.8/32           <span style="color: #ff0000;">192.168.25.5         GigabitEthernet0/2</span>
88.88.88.88/32       <span style="color: #ff0000;">192.168.25.5         GigabitEthernet0/2</span></code></pre>
<p>The FIB entries for our two prefixes has changed as well to reflect the new next hop and outgoing interface. Think about this for a second&#8230;</p>
<p>Our router had to figure out a new path to get to 6.6.6.6/32 and <strong>update all entries in the FIB that used the old next hop</strong> (192.168.24.4) to the new next hop (192.168.25.5). With two prefixes, this is a piece of cake but what if we have one million prefixes in our FIB? They all have to get updated <strong>one-by-one</strong> and this takes a LONG time (minutes).</p>
<p>The problem here is how our FIB works. We use what we call a &#8220;flat&#8221; or &#8220;flattened&#8221; FIB structure:</p>
<p><img loading="lazy" decoding="async" class="alignnone wp-image-55852 size-full" src="https://cdn.networklessons.com/wp-content/uploads/2018/03/flat-fib.png" alt="Flat Fib" width="529" height="187" srcset="https://cdn.networklessons.com/wp-content/uploads/2018/03/flat-fib.png 529w, https://cdn.networklessons.com/wp-content/uploads/2018/03/flat-fib-300x106.png 300w" sizes="(max-width: 529px) 100vw, 529px" /></p>
<p>With a flat FIB, there is a <strong>one-to-one relationship between the prefix and the next hop / outgoing interface</strong>. When the next hop changes, the router walks through each prefix in the FIB to update the next hop. This is a time-consuming process that requires a lot of CPU cycles.</p>
<p>To improve this, we use a different structure for our FIB, called the <strong>hierarchical FIB</strong>:</p>
<p><img loading="lazy" decoding="async" class="alignnone wp-image-55853 size-full" src="https://cdn.networklessons.com/wp-content/uploads/2018/03/hierarchical-fib-pe1.png" alt="Hierarchical Fib Pe1" width="932" height="185" srcset="https://cdn.networklessons.com/wp-content/uploads/2018/03/hierarchical-fib-pe1.png 932w, https://cdn.networklessons.com/wp-content/uploads/2018/03/hierarchical-fib-pe1-300x60.png 300w, https://cdn.networklessons.com/wp-content/uploads/2018/03/hierarchical-fib-pe1-768x152.png 768w" sizes="(max-width: 932px) 100vw, 932px" /></p>
<p>Instead of a flat table, we use a <strong>hierarchical table</strong> where we also store the BGP next hops and the IGP next hops separately.</p>
<p>This has a huge advantage: when the IGP next hop changes, <strong>only the part of the FIB that is affected has to change:</strong></p>
<p><img loading="lazy" decoding="async" class="alignnone size-full wp-image-55854" src="https://cdn.networklessons.com/wp-content/uploads/2018/03/hierarchical-fib-failover.png" alt="Hierarchical Fib Failover" width="932" height="260" srcset="https://cdn.networklessons.com/wp-content/uploads/2018/03/hierarchical-fib-failover.png 932w, https://cdn.networklessons.com/wp-content/uploads/2018/03/hierarchical-fib-failover-300x84.png 300w, https://cdn.networklessons.com/wp-content/uploads/2018/03/hierarchical-fib-failover-768x214.png 768w" sizes="(max-width: 932px) 100vw, 932px" /></p>
<p>We change the pointer from the BGP path list from &#8220;PE3 via 192.168.24.4&#8221; to &#8220;PE3 via 192.168.25.5&#8221; and that&#8217;s it! We don&#8217;t have to touch the BGP prefixes or BGP path list since those did not change! That&#8217;s why we call it &#8220;prefix independent&#8221;.</p>
<p>With something like a million prefixes, this makes the difference between a convergence time of minutes to less than 200 ms. The convergence time depends on how fast your IGP converges to find the new next hop. Some other advantages are:</p>
<ul>
<li>Reduced FIB memory requirements since a lot of information is shared.</li>
<li>Fewer CPU cycles needed because we don&#8217;t have to flatten all BGP prefixes when the IGP next hop changes.</li>
</ul>
<p>The hierarchical FIB is supported on pretty much any Cisco platform. On Cisco IOS XR and NX-OS, it is the default. On Cisco IOS, we can enable it with a simple command:</p>
<pre><code>PE1, PE2, PE3 &amp; PE4
(config)#<strong>cef table output-chain build favor convergence-speed</strong></code></pre>
<p>It&#8217;s only a single command to enable the hierarchical FIB and PIC core but if you want to use this, it doesn&#8217;t end here. Since this relies on your IGP convergence time, there are some things you need to implement to speed up your convergence times like:</p>
<ul>
<li>tuning your IGP timers</li>
<li>implementing something like <a href="https://networklessons.com/tag/ip-routing/bidirectional-forwarding-detection-bfd" target="_blank" rel="noopener noreferrer">BFD</a> or <a href="https://networklessons.com/ospf/ospf-loop-free-alternate-lfa-fast-reroute-frr" target="_blank" rel="noopener noreferrer">FRR</a></li>
</ul>
<p>Before we continue with PIC edge, let&#8217;s restore P1:</p>
<pre><code>P1(config-if-range)#<strong>no shutdown</strong></code></pre>
<h2><span class="ez-toc-section" id="BGP_PIC_Edge"></span>BGP PIC Edge<span class="ez-toc-section-end"></span></h2>
<p>BGP PIC core helps when there is an issue in the core. What if one of your PE routers fails or a link between a PE and CE router?</p>
<p>When that happens, <strong>BGP has to reconverge</strong> and switch from one PE router to another PE router.<br />
<br />
<br />
<span class="mPTGN84Vcakg1sy0ouCKRDYWO7ntSfzXixZl3Q6jIA9FJpwHedhMEL"></p>
<div class="arve" data-mode="normal" data-oembed="1" data-provider="vimeo" id="arve-vimeo-262832912" style="max-width:700px;" data-reset-after-played data-fullscreen="disabled">
<div class="arve-inner">
<div class="arve-embed arve-embed--has-aspect-ratio">
<span class="arve-ar" style="padding-top:56.250000%"></span><iframe credentialless referrerpolicy="strict-origin-when-cross-origin" allow="accelerometer &#039;none&#039;;ambient-light-sensor &#039;none&#039;;autoplay &#039;none&#039;;battery &#039;none&#039;;bluetooth &#039;none&#039;;browsing-topics &#039;none&#039;;camera &#039;none&#039;;ch-ua &#039;none&#039;;clipboard-read &#039;none&#039;;clipboard-write;display-capture &#039;none&#039;;document-domain &#039;none&#039;;domain-agent &#039;none&#039;;encrypted-media &#039;none&#039;;execution-while-not-rendered &#039;none&#039;;execution-while-out-of-viewport &#039;none&#039;;gamepad &#039;none&#039;;geolocation &#039;none&#039;;gyroscope &#039;none&#039;;hid &#039;none&#039;;identity-credentials-get &#039;none&#039;;idle-detection &#039;none&#039;;keyboard-map &#039;none&#039;;local-fonts &#039;none&#039;;magnetometer &#039;none&#039;;microphone &#039;none&#039;;midi &#039;none&#039;;navigation-override &#039;none&#039;;otp-credentials &#039;none&#039;;payment &#039;none&#039;;picture-in-picture;publickey-credentials-create &#039;none&#039;;publickey-credentials-get &#039;none&#039;;screen-wake-lock &#039;none&#039;;serial &#039;none&#039;;speaker-selection;sync-xhr &#039;none&#039;;usb &#039;none&#039;;web-share;window-management &#039;none&#039;;xr-spatial-tracking &#039;none&#039;;" allowfullscreen class="arve-iframe fitvidsignore" data-arve="arve-vimeo-262832912" data-src-no-ap="https://player.vimeo.com/video/262832912?dnt=0&amp;app_id=122963&amp;html5=1&amp;title=0&amp;byline=0&amp;portrait=0&amp;autoplay=0" frameborder="0" height="393.75" name sandbox="allow-scripts allow-same-origin allow-presentation allow-popups allow-popups-to-escape-sandbox allow-forms" scrolling="no" src="https://player.vimeo.com/video/262832912?dnt=0&#038;app_id=122963&#038;html5=1&#038;title=0&#038;byline=0&#038;portrait=0&#038;autoplay=0" width="700" title="bgp-pic-edge-configuration-1080p" loading="lazy"></iframe></p>
</div>
</div>
<p><script type="application/ld+json">{"@context":"http:\/\/schema.org\/","@id":"https:\/\/networklessons.com\/cisco\/ccie-routing-switching-written\/bgp-pic-prefix-independent-convergence-core-edge#arve-vimeo-262832912","type":"VideoObject","embedURL":"https:\/\/player.vimeo.com\/video\/262832912?dnt=0&app_id=122963&html5=1&title=0&byline=0&portrait=0&autoplay=0","name":"bgp-pic-edge-configuration-1080p","thumbnailUrl":"https:\/\/i.vimeocdn.com\/video\/692205853-e433cd399917f5a3f283fe1fa25717d3b34971e7885f9eff0ae73fa0ee6e14fb-d_640","uploadDate":"2018-03-29T11:31:17+00:00","author":"NetworkLessons.com","duration":"PT13M28S","description":"1"}</script>
</div>
<p></span><br />
<br />
I&#8217;ll show you a &#8220;before&#8221; and &#8220;after&#8221; scenario of PIC edge from PE1&#8217;s perspective when PE3 fails. We use the exact same topology that we started with.</p>
<h3><span class="ez-toc-section" id="Without_BGP_PIC_Edge"></span>Without BGP PIC Edge<span class="ez-toc-section-end"></span></h3>
<p>Let&#8217;s take a look at the BGP table of PE1:</p>
<pre><code>PE1#<strong>show ip bgp</strong>

     Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i  <span style="color: #ff0000;">8.8.8.8/32       6.6.6.6</span>                  0    100      0 8 i
 *&gt;i  <span style="color: #ff0000;">88.88.88.88/32   6.6.6.6</span>                  0    100      0 8 i</code></pre>
<p>We see the 8.8.8.8/32 and 88.88.88.88/32 prefix that both use next hop 6.6.6.6 (PE3). Let&#8217;s check the OSPF routing table:</p>
<pre><code>PE1#<strong>show ip route 6.6.6.6</strong>
Routing entry for 6.6.6.6/32
  Known via "ospf 1", distance 110, metric 3, type intra area
  Last update from 192.168.24.4 on GigabitEthernet0/1, 00:02:03 ago
  Routing Descriptor Blocks:
  * <span style="color: #ff0000;">192.168.24.4</span>, from 6.6.6.6, 00:15:49 ago, <span style="color: #ff0000;">via GigabitEthernet0/1</span>
      Route metric is 3, traffic share count is 1</code></pre>
<p>To get to 6.6.6.6/32, we use next hop 192.168.24.4. This gets installed in the FIB:</p>
<pre><code>PE1#<strong>show ip cef 6.6.6.6</strong>
6.6.6.6/32
  <span style="color: #ff0000;">nexthop 192.168.24.4 GigabitEthernet0/1</span></code></pre>
<p>And this is how our prefixes look in the FIB:</p>
<pre><code>PE1#<strong>show ip cef | include 8.8</strong>
8.8.8.8/32           <span style="color: #ff0000;">192.168.24.4         GigabitEthernet0/1</span>
88.88.88.88/32       <span style="color: #ff0000;">192.168.24.4         GigabitEthernet0/1</span></code></pre>
<p>PE1 uses the path through P1 to get to P3:</p>
<p><img decoding="async" class="alignnone size-full wp-image-55857" src="https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-traffic-path-pe1-ce2.png" alt="Bgp Pic Core Traffic Path Pe1 Ce2" width="1651" height="424" srcset="https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-traffic-path-pe1-ce2.png 1651w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-traffic-path-pe1-ce2-300x77.png 300w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-traffic-path-pe1-ce2-768x197.png 768w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-traffic-path-pe1-ce2-1024x263.png 1024w" sizes="(max-width: 1651px) 100vw, 1651px" /></p>
<p>Disaster strikes again&#8230;our provider recovered from the P1 failure but now their PE3 router fails:</p>
<p><img loading="lazy" decoding="async" class="alignnone size-full wp-image-55858" src="https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-pe3-failure.png" alt="Bgp Pic Core Pe3 Failure" width="1651" height="371" srcset="https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-pe3-failure.png 1651w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-pe3-failure-300x67.png 300w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-pe3-failure-768x173.png 768w, https://cdn.networklessons.com/wp-content/uploads/2018/03/bgp-pic-core-pe3-failure-1024x230.png 1024w" sizes="(max-width: 1651px) 100vw, 1651px" /></p>
<p>On PE1, I enable this debug again:</p>
<pre><code>PE1#<strong>debug ip routing 1</strong>
IP routing debugging is on for access list 1</code></pre>
<p>And to simulate the PE3 failure, we&#8217;ll shut down all its interfaces:</p>
<pre><code>PE3(config)#<strong>interface range GigabitEthernet 0/1 - 3</strong>
PE3(config-if-range)#<strong>shutdown</strong></code></pre>
<p>Here&#8217;s what we see on PE1:</p>
<pre><code>PE1#
RT: <span style="color: #ff0000;">del 6.6.6.6 via 192.168.24.4</span>, ospf metric [110/3]
RT: delete subnet route to 6.6.6.6/32
RT: <span style="color: #ff0000;">del 8.8.8.8 via 6.6.6.6</span>, bgp metric [200/0]
RT: delete subnet route to 8.8.8.8/32
RT: <span style="color: #ff0000;">del 88.88.88.88 via 6.6.6.6</span>, bgp metric [200/0]
RT: delete subnet route to 88.88.88.88/32
RT: <span style="color: #ff0000;">updating bgp 8.8.8.8/32</span> (0x0)  :
    <span style="color: #ff0000;">via 7.7.7.7</span>   0 1048577

RT: add 8.8.8.8/32 via 7.7.7.7, bgp metric [200/0]
RT: <span style="color: #ff0000;">updating bgp 88.88.88.88/32</span> (0x0)  :
    <span style="color: #ff0000;">via 7.7.7.7</span>   0 1048577

RT: add 88.88.88.88/32 via 7.7.7.7, bgp metric [200/0]
RT: updating bgp 8.8.8.8/32 (0x0)  :
    via 7.7.7.7   0 1048577

RT: closer admin distance for 8.8.8.8, flushing 1 routes
RT: add 8.8.8.8/32 via 7.7.7.7, bgp metric [200/0]
RT: updating bgp 88.88.88.88/32 (0x0)  :
    via 7.7.7.7   0 1048577

RT: closer admin distance for 88.88.88.88, flushing 1 routes
RT: add 88.88.88.88/32 via 7.7.7.7, bgp metric [200/0]</code></pre>
<p>OSPF figures out that 6.6.6.6/32 is gone so it gets removed from the routing table. BGP reconverges and figures out that 7.7.7.7 (PE4) is the new next hop.</p>
<p>Let&#8217;s take a look at the updated BGP table:</p>
<pre><code>PE1#<strong>show ip bgp</strong>

     Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i  8.8.8.8/32       <span style="color: #ff0000;">7.7.7.7</span>                  0    100      0 8 i
 *&gt;i  88.88.88.88/32   <span style="color: #ff0000;">7.7.7.7</span>                  0    100      0 8 i</code></pre>
<p>We see that BGP now uses 7.7.7.7 as the next hop. How does it get resolved?</p>
<pre><code>PE1#<strong>show ip route 7.7.7.7</strong>
Routing entry for 7.7.7.7/32
  Known via "ospf 1", distance 110, metric 3, type intra area
  Last update from 192.168.24.4 on GigabitEthernet0/1, 00:07:51 ago
  Routing Descriptor Blocks:
  * <span style="color: #ff0000;">192.168.24.4, from 7.7.7.7</span>, 00:21:37 ago, via GigabitEthernet0/1
      Route metric is 3, traffic share count is 1</code></pre>
<p>To get to 7.7.7.7/32 we have to go to 192.168.24.4 (P1) with outgoing interface GigabitEthernet0/1. Here&#8217;s how this gets installed in the FIB:</p>
<pre><code>PE1#<strong>show ip cef 7.7.7.7</strong>
7.7.7.7/32
  <span style="color: #ff0000;">nexthop 192.168.24.4 GigabitEthernet0/1</span></code></pre>
<pre><code>PE1#<strong>show ip cef | include 8.8</strong>
8.8.8.8/32           <span style="color: #ff0000;">192.168.24.4         GigabitEthernet0/1</span>
88.88.88.88/32       <span style="color: #ff0000;">192.168.24.4         GigabitEthernet0/1</span></code></pre>
<p>This is all looking good but it&#8217;s a pretty slow process.  BGP has to reconverge since the path through PE3 no longer exists. It will take some time before P2 (the route reflector) figures out that PE3 is gone and advertises the new path through PE4 (7.7.7.7) to PE1.</p>
<p>Let&#8217;s see how we can improve this. Let&#8217;s recover PE3 before we continue:</p>
<pre><code>PE3(config)#<strong>interface range GigabitEthernet 0/1 - 3</strong>
PE3(config-if-range)#<strong>no shutdown</strong></code></pre>
<h3><span class="ez-toc-section" id="With_BGP_PIC_Edge"></span>With BGP PIC Edge<span class="ez-toc-section-end"></span></h3>
<p>We can configure BGP to <strong>pre-install a backup next hop</strong>. To do that, we need a second next hop. That&#8217;s a problem right now. P2 is our route reflector and has two paths:</p>
<pre><code>P2#<strong>show ip bgp</strong>

     Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i  8.8.8.8/32       6.6.6.6                  0    100      0 8 i
 *&gt;i  88.88.88.88/32   6.6.6.6                  0    100      0 8 i</code></pre>
<p>BGP only advertises the best path so that&#8217;s why PE1 only has an entry through PE3 to get to these prefixes. We can change this behavior with the <a href="https://networklessons.com/bgp/bgp-additional-paths">BGP additional paths</a> feature. Let&#8217;s enable this on P2 and PE1 so that PE1 receives two paths.</p>
<p>P2 has to send additional paths:</p>
<pre><code>P2(config)#<strong>router bgp 2</strong>
P2(config-router)#<strong>address-family ipv4</strong>
P2(config-router-af)#<strong>bgp additional-paths select all</strong>
P2(config-router-af)#<strong>neighbor 2.2.2.2 additional-paths send</strong>
P2(config-router-af)#<strong>neighbor 2.2.2.2 advertise additional-paths all</strong></code></pre>
<p>And PE1 needs to receive them:</p>
<pre><code>PE1(config)#<strong>router bgp 2</strong>
PE1(config-router)#<strong>address-family ipv4</strong>
PE1(config-router-af)#<strong>neighbor 5.5.5.5 additional-paths receive</strong></code></pre>
<p>Now let&#8217;s take a look at PE1:</p>
<pre><code>PE1#<strong>show ip bgp </strong>

     Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i  8.8.8.8/32       6.6.6.6                  0    100      0 8 i
 * i                   7.7.7.7                  0    100      0 8 i
 *&gt;i  88.88.88.88/32   6.6.6.6                  0    100      0 8 i
 * i                   7.7.7.7                  0    100      0 8 i</code></pre>
<p>Very nice, we see two paths&#8230;one through PE3 and the other one through PE4. Only the path through PE3 is installed though:</p>
<pre><code>PE1#<strong>show ip bgp 8.8.8.8</strong>
BGP routing table entry for 8.8.8.8/32, version 64
Paths: (2 available, best #1, table default)
  Advertised to update-groups:
     2         
  Refresh Epoch 1
  8
    6.6.6.6 (metric 3) from 5.5.5.5 (5.5.5.5)
      Origin IGP, metric 0, localpref 100, valid, internal, <span style="color: #ff0000;">best</span>
      <span style="color: #ff0000;">Originator: 6.6.6.6</span>, Cluster list: 5.5.5.5
      rx pathid: 0x0, tx pathid: 0x0
  Refresh Epoch 1
  8
    7.7.7.7 (metric 3) from 5.5.5.5 (5.5.5.5)
      Origin IGP, metric 0, localpref 100, valid, internal
      Originator: 7.7.7.7, Cluster list: 5.5.5.5
      rx pathid: 0x1, tx pathid: 0</code></pre>
<p>We can change this with the <code>bgp additional-paths</code> command. Let&#8217;s configure PE1 to install the second path as a backup:</p>
<pre><code>PE1(config)#<strong>router bgp 2</strong>
PE1(config-router)#<strong>address-family ipv4</strong>
PE1(config-router-af)#<strong>bgp additional-paths install</strong></code></pre>
<p>Let&#8217;s check the BGP table again:</p>
<pre><code>PE1#<strong>show ip bgp</strong>
BGP table version is 67, local router ID is 2.2.2.2
Status codes: s suppressed, d damped, h history, * valid, &gt; best, i - internal, 
              r RIB-failure, S Stale, m multipath, <span style="color: #ff0000;">b backup-path</span>, f RT-Filter, 
              x best-external, a additional-path, c RIB-compressed, 
              t secondary path, 
Origin codes: i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

     Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i  8.8.8.8/32       6.6.6.6                  0    100      0 8 i
 *<span style="color: #ff0000;">b</span>i                   7.7.7.7                  0    100      0 8 i
 *&gt;i  88.88.88.88/32   6.6.6.6                  0    100      0 8 i
 *<span style="color: #ff0000;">b</span>i                   7.7.7.7                  0    100      0 8 i</code></pre>
<p>Note the b that stands for backup path. You can also see this if you take a closer look at a single prefix:</p>
<pre><code>PE1#<strong>show ip bgp 8.8.8.8</strong>
BGP routing table entry for 8.8.8.8/32, version 66
Paths: (2 available, best #1, table default)
  Additional-path-install
  Advertised to update-groups:
     2         
  Refresh Epoch 1
  8
    6.6.6.6 (metric 3) from 5.5.5.5 (5.5.5.5)
      Origin IGP, metric 0, localpref 100, valid, internal, best
      Originator: 6.6.6.6, Cluster list: 5.5.5.5
      rx pathid: 0x0, tx pathid: 0x0
  Refresh Epoch 1
  8
    7.7.7.7 (metric 3) from 5.5.5.5 (5.5.5.5)
      Origin IGP, metric 0, localpref 100, valid, <span style="color: #ff0000;">internal, backup/repair</span>
      Originator: 7.7.7.7, Cluster list: 5.5.5.5
      rx pathid: 0x1, tx pathid: 0</code></pre>
<p>This entry gets installed in the FIB right away. Take a look here:</p>
<pre><code>PE1#<strong>show ip cef 8.8.8.8 detail </strong>
8.8.8.8/32, epoch 0, flags [rib only nolabel, rib defined all labels]
  recursive via 6.6.6.6
    nexthop 192.168.24.4 GigabitEthernet0/1
  <span style="color: #ff0000;">recursive via 7.7.7.7, repair
    nexthop 192.168.24.4 GigabitEthernet0/1</span></code></pre>
<p>Once the primary next hop (6.6.6.6) fails, we can forward to the backup (7.7.7.7) right away!<br />
<div class="responsive-tabs">
<p class="tabtitle">Configurations</p>
<div class="tabcontent">
</p>
<p>Want to take a look for yourself? Here you will find the final configuration of each device.</p>

</div><p class="tabtitle">CE1</p>
<div class="tabcontent">

<pre><code>hostname CE1
!
ip cef
!
interface GigabitEthernet0/1
 ip address 192.168.12.1 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.13.1 255.255.255.0
!
router bgp 1
 bgp router-id 1.1.1.1
 neighbor 192.168.12.2 remote-as 2
 neighbor 192.168.13.3 remote-as 2
!
end</code></pre>

</div><p class="tabtitle">CE2</p>
<div class="tabcontent">

<pre><code>hostname CE2
!
ip cef
!
interface Loopback0
 ip address 8.8.8.8 255.255.255.255
!
interface Loopback1
 ip address 88.88.88.88 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.68.8 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.78.8 255.255.255.0
!
router bgp 8
 bgp router-id 8.8.8.8
 network 8.8.8.8 mask 255.255.255.255
 network 88.88.88.88 mask 255.255.255.255
 neighbor 192.168.68.6 remote-as 2
 neighbor 192.168.78.7 remote-as 2
!
end</code></pre>

</div><p class="tabtitle">P1</p>
<div class="tabcontent">

<pre><code>hostname P1
!
ip cef
!
interface Loopback0
 ip address 4.4.4.4 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.24.4 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.46.4 255.255.255.0
!
interface GigabitEthernet0/3
 ip address 192.168.34.4 255.255.255.0
!
interface GigabitEthernet0/4
 ip address 192.168.47.4 255.255.255.0
!
router ospf 1
 network 4.4.4.4 0.0.0.0 area 0
 network 192.168.24.0 0.0.0.255 area 0
 network 192.168.34.0 0.0.0.255 area 0
 network 192.168.46.0 0.0.0.255 area 0
 network 192.168.47.0 0.0.0.255 area 0
!
router bgp 2
 bgp router-id 4.4.4.4
 neighbor 5.5.5.5 remote-as 2
 neighbor 5.5.5.5 update-source Loopback0
!
end</code></pre>

</div><p class="tabtitle">P2</p>
<div class="tabcontent">

<pre><code>hostname P2
!
ip cef
!
interface Loopback0
 ip address 5.5.5.5 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.35.5 255.255.255.0
 ip ospf cost 2
!
interface GigabitEthernet0/2
 ip address 192.168.57.5 255.255.255.0
 ip ospf cost 2
!
interface GigabitEthernet0/3
 ip address 192.168.25.5 255.255.255.0
 ip ospf cost 2
!
interface GigabitEthernet0/4
 ip address 192.168.56.5 255.255.255.0
 ip ospf cost 2
!
router ospf 1
 network 5.5.5.5 0.0.0.0 area 0
 network 192.168.25.0 0.0.0.255 area 0
 network 192.168.35.0 0.0.0.255 area 0
 network 192.168.56.0 0.0.0.255 area 0
 network 192.168.57.0 0.0.0.255 area 0
!
router bgp 2
 bgp router-id 5.5.5.5
 neighbor 2.2.2.2 remote-as 2
 neighbor 2.2.2.2 update-source Loopback0
 neighbor 3.3.3.3 remote-as 2
 neighbor 3.3.3.3 update-source Loopback0
 neighbor 4.4.4.4 remote-as 2
 neighbor 4.4.4.4 update-source Loopback0
 neighbor 6.6.6.6 remote-as 2
 neighbor 6.6.6.6 update-source Loopback0
 neighbor 7.7.7.7 remote-as 2
 neighbor 7.7.7.7 update-source Loopback0
 !
 address-family ipv4
  bgp additional-paths select all
  neighbor 2.2.2.2 activate
  neighbor 2.2.2.2 route-reflector-client
  neighbor 2.2.2.2 additional-paths send
  neighbor 2.2.2.2 advertise additional-paths all
  neighbor 3.3.3.3 activate
  neighbor 3.3.3.3 route-reflector-client
  neighbor 4.4.4.4 activate
  neighbor 4.4.4.4 route-reflector-client
  neighbor 6.6.6.6 activate
  neighbor 6.6.6.6 route-reflector-client
  neighbor 7.7.7.7 activate
  neighbor 7.7.7.7 route-reflector-client
 exit-address-family
!
end</code></pre>

</div><p class="tabtitle">PE1</p>
<div class="tabcontent">

<pre><code>hostname PE1
!
ip cef
!
interface Loopback0
 ip address 2.2.2.2 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.24.2 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.25.2 255.255.255.0
!
interface GigabitEthernet0/3
 ip address 192.168.12.2 255.255.255.0
!
router ospf 1
 network 2.2.2.2 0.0.0.0 area 0
 network 192.168.24.0 0.0.0.255 area 0
 network 192.168.25.0 0.0.0.255 area 0
!
router bgp 2
 bgp router-id 2.2.2.2
 neighbor 5.5.5.5 remote-as 2
 neighbor 5.5.5.5 update-source Loopback0
 neighbor 192.168.12.1 remote-as 1
 !
 address-family ipv4
  bgp additional-paths install
  neighbor 5.5.5.5 activate
  neighbor 5.5.5.5 next-hop-self
  neighbor 5.5.5.5 additional-paths receive
  neighbor 192.168.12.1 activate
 exit-address-family
!
end</code></pre>

</div><p class="tabtitle">PE2</p>
<div class="tabcontent">

<pre><code>hostname PE2
!
ip cef
!
interface Loopback0
 ip address 3.3.3.3 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.35.3 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.34.3 255.255.255.0
!
interface GigabitEthernet0/3
 ip address 192.168.13.3 255.255.255.0
!
router ospf 1
 network 3.3.3.3 0.0.0.0 area 0
 network 192.168.34.0 0.0.0.255 area 0
 network 192.168.35.0 0.0.0.255 area 0
!
router bgp 2
 bgp router-id 3.3.3.3
 neighbor 5.5.5.5 remote-as 2
 neighbor 5.5.5.5 update-source Loopback0
 neighbor 192.168.13.1 remote-as 1
!
end</code></pre>

</div><p class="tabtitle">PE3</p>
<div class="tabcontent">

<pre><code>hostname PE3
!
ip cef
!
interface Loopback0
 ip address 6.6.6.6 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.46.6 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.56.6 255.255.255.0
!
interface GigabitEthernet0/3
 ip address 192.168.68.6 255.255.255.0
!
router ospf 1
 network 6.6.6.6 0.0.0.0 area 0
 network 192.168.46.0 0.0.0.255 area 0
 network 192.168.56.0 0.0.0.255 area 0
!
router bgp 2
 bgp router-id 6.6.6.6
 neighbor 5.5.5.5 remote-as 2
 neighbor 5.5.5.5 update-source Loopback0
 neighbor 5.5.5.5 next-hop-self
 neighbor 192.168.68.8 remote-as 8
!
end</code></pre>

</div><p class="tabtitle">PE4</p>
<div class="tabcontent">

<pre><code>hostname PE4
!
ip cef
!
interface Loopback0
 ip address 7.7.7.7 255.255.255.255
!
interface GigabitEthernet0/1
 ip address 192.168.57.7 255.255.255.0
!
interface GigabitEthernet0/2
 ip address 192.168.47.7 255.255.255.0
!
interface GigabitEthernet0/3
 ip address 192.168.78.7 255.255.255.0
!
router ospf 1
 network 7.7.7.7 0.0.0.0 area 0
 network 192.168.47.0 0.0.0.255 area 0
 network 192.168.57.0 0.0.0.255 area 0
!
router bgp 2
 bgp router-id 7.7.7.7
 neighbor 5.5.5.5 remote-as 2
 neighbor 5.5.5.5 update-source Loopback0
 neighbor 5.5.5.5 next-hop-self
 neighbor 192.168.78.8 remote-as 8
!
end</code></pre>
</div></div>
<h2><span class="ez-toc-section" id="Conclusion"></span>Conclusion<span class="ez-toc-section-end"></span></h2>
<p>You have now learned what BGP PIC (Prefix Independent Convergence) is.</p>
<ul>
<li>BGP PIC (Prefix Independent Convergence) helps to decrease the data plane convergence time.</li>
<li>There are two flavors:
<ul>
<li>BGP PIC Core:
<ul>
<li>helps when a core router fails, the BGP next hop does not change and your IGP has to find a new path.</li>
<li>BGP prefixes are installed in a flat FIB with the recursed next hop and outgoing interface. When the next hop changes, the router has to go through all prefixes one-by-one in the FIB and change the next hop.</li>
<li>A hierarchical FIB stores the BGP and IGP path list. When an IGP next hop changes, you don&#8217;t have to re-flatten the entire table again. This decreases convergence time in the data plane.</li>
</ul>
</li>
<li>BGP PIC Edge:
<ul>
<li>helps when a PE router fails and BGP has to find a new next hop.</li>
<li>BGP can pre-install a backup next hop for another BGP path in the FIB.</li>
<li>When using iBGP and a route reflector, you&#8217;ll need to use the BGP additional paths feature.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>I hope you enjoyed this lesson. If you have any questions feel free to leave a comment!</p>
            </div>
                	</div>
</article>
		</main>
	</div>


<div class="widget-area col-md-4">
            <div class="site-actions-toolbar d-none d-md-flex">
            <div class="site-action js--dark-mode">
                <i class="far fa-adjust"></i>
            </div>
        </div>
        <aside id="secondary">
        <section id="block-2" class="widget widget_block"><p><div class="urlspecificmenu-toggle">Lessons</div><div class="fullpage-overlay urlspecificmenu-overlay"></div><div class="urlspecificmenu"><div class="urlspecificmenu-close"><i class="far fa-times"></i></div>
				<h2>Course Contents</h2><p>BGP</p><nav id="bellows-main-650" class="bellows bellows-nojs bellows-main bellows-source-menu bellows-align-full bellows-skin-none bellows-type-accordion bellows-expand-current"><ul id="menu-bgp" class="bellows-nav" data-bellows-config="main"><li id="menu-item-18696" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-has-children bellows-menu-item-18696 bellows-item-level-0"><span  class="bellows-target"><span class="bellows-target-title bellows-target-text">Unit 1: Introduction to BGP</span><button class="bellows-subtoggle" aria-label="Toggle Submenu"><i class="bellows-subtoggle-icon-expand fa fa-plus-square"></i><i class="bellows-subtoggle-icon-collapse fa fa-minus-square"></i></button></span>
<ul class="bellows-submenu">
	<li id="menu-item-18697" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18697 bellows-item-level-1"><a  href="https://networklessons.com/bgp/introduction-to-bgp" class="bellows-target"><span class="bellows-target-title bellows-target-text">Introduction to BGP</span></a></li>
	<li id="menu-item-41087" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-41087 bellows-item-level-1"><a  href="https://networklessons.com/bgp/singledual-homed-and-multi-homed-designs" class="bellows-target"><span class="bellows-target-title bellows-target-text">Single/Dual (multi) homed connections</span></a></li>
	<li id="menu-item-18698" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18698 bellows-item-level-1"><a  href="https://networklessons.com/bgp/how-to-configure-ebgp-external-bgp" class="bellows-target"><span class="bellows-target-title bellows-target-text">eBGP (external BGP)</span></a></li>
	<li id="menu-item-18699" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18699 bellows-item-level-1"><a  href="https://networklessons.com/bgp/ebgp-multihop" class="bellows-target"><span class="bellows-target-title bellows-target-text">eBGP Multi-Hop</span></a></li>
	<li id="menu-item-18700" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18700 bellows-item-level-1"><a  href="https://networklessons.com/bgp/internal-bgp-border-gateway-protocol-explained" class="bellows-target"><span class="bellows-target-title bellows-target-text">iBGP (internal BGP)</span></a></li>
	<li id="menu-item-18701" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18701 bellows-item-level-1"><a  href="https://networklessons.com/bgp/how-to-read-the-bgp-table" class="bellows-target"><span class="bellows-target-title bellows-target-text">How to read the BGP Table</span></a></li>
	<li id="menu-item-18702" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18702 bellows-item-level-1"><a  href="https://networklessons.com/bgp/how-to-advertise-networks-in-bgp" class="bellows-target"><span class="bellows-target-title bellows-target-text">How to advertise networks in BGP</span></a></li>
	<li id="menu-item-18703" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18703 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-next-hop-self" class="bellows-target"><span class="bellows-target-title bellows-target-text">iBGP Next Hop Self</span></a></li>
	<li id="menu-item-18704" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18704 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-auto-summary" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Auto-summary</span></a></li>
</ul>
</li>
<li id="menu-item-18705" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-has-children bellows-menu-item-18705 bellows-item-level-0"><span  class="bellows-target"><span class="bellows-target-title bellows-target-text">Unit 2: BGP Neighbor Adjacency</span><button class="bellows-subtoggle" aria-label="Toggle Submenu"><i class="bellows-subtoggle-icon-expand fa fa-plus-square"></i><i class="bellows-subtoggle-icon-collapse fa fa-minus-square"></i></button></span>
<ul class="bellows-submenu">
	<li id="menu-item-18706" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18706 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-neighbor-adjacency-states" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Neighbor Adjacency States</span></a></li>
	<li id="menu-item-18707" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18707 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-messages" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Messages</span></a></li>
	<li id="menu-item-19043" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-19043 bellows-item-level-1"><a  href="https://networklessons.com/bgp/troubleshooting-bgp-neighbor-adjacency" class="bellows-target"><span class="bellows-target-title bellows-target-text">Troubleshooting BGP Neighbor Adjacency</span></a></li>
	<li id="menu-item-19044" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-19044 bellows-item-level-1"><a  href="https://networklessons.com/bgp/troubleshooting-bgp-route-advertisement" class="bellows-target"><span class="bellows-target-title bellows-target-text">Troubleshooting BGP Route Advertisement</span></a></li>
</ul>
</li>
<li id="menu-item-18708" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-has-children bellows-menu-item-18708 bellows-item-level-0"><span  class="bellows-target"><span class="bellows-target-title bellows-target-text">Unit 3: BGP Attributes</span><button class="bellows-subtoggle" aria-label="Toggle Submenu"><i class="bellows-subtoggle-icon-expand fa fa-plus-square"></i><i class="bellows-subtoggle-icon-collapse fa fa-minus-square"></i></button></span>
<ul class="bellows-submenu">
	<li id="menu-item-55984" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-55984 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-attributes-and-path-selection" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Attributes and Path Selection</span></a></li>
	<li id="menu-item-18709" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18709 bellows-item-level-1"><a  href="https://networklessons.com/bgp/how-to-configure-bgp-weight-attribute" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Weight Attribute</span></a></li>
	<li id="menu-item-18710" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18710 bellows-item-level-1"><a  href="https://networklessons.com/bgp/how-to-configure-bgp-local-preference-attribute" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Local Preference</span></a></li>
	<li id="menu-item-70348" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-70348 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-attribute-locally-originated" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Attribute Locally Originated</span></a></li>
	<li id="menu-item-18711" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18711 bellows-item-level-1"><a  href="https://networklessons.com/bgp/how-to-configure-bgp-as-path-prepending" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP AS Path Prepending</span></a></li>
	<li id="menu-item-18712" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18712 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-origin-code-attribute-explained" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Origin Code</span></a></li>
	<li id="menu-item-18713" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18713 bellows-item-level-1"><a  href="https://networklessons.com/bgp/how-to-configure-bgp-med-attribute" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP MED (metric) Attribute</span></a></li>
	<li id="menu-item-70378" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-70378 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-prefer-ebgp-over-ibgp" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Prefer eBGP over iBGP</span></a></li>
	<li id="menu-item-64483" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-64483 bellows-item-level-1"><a  href="https://networklessons.com/bgp/accumulated-igp-metric-attribute-aigp" class="bellows-target"><span class="bellows-target-title bellows-target-text">Accumulated IGP Metric Attribute (AIGP)</span></a></li>
</ul>
</li>
<li id="menu-item-18714" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-has-children bellows-menu-item-18714 bellows-item-level-0"><span  class="bellows-target"><span class="bellows-target-title bellows-target-text">Unit 4: BGP Communities</span><button class="bellows-subtoggle" aria-label="Toggle Submenu"><i class="bellows-subtoggle-icon-expand fa fa-plus-square"></i><i class="bellows-subtoggle-icon-collapse fa fa-minus-square"></i></button></span>
<ul class="bellows-submenu">
	<li id="menu-item-18715" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18715 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-communities-explained" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Communities</span></a></li>
	<li id="menu-item-18716" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18716 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-community-no-advertise" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Community No Advertise</span></a></li>
	<li id="menu-item-18717" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18717 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-community-no-export" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Community No Export</span></a></li>
	<li id="menu-item-18718" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18718 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-community-local-as" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Community Local AS</span></a></li>
</ul>
</li>
<li id="menu-item-18719" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-has-children bellows-menu-item-18719 bellows-item-level-0"><span  class="bellows-target"><span class="bellows-target-title bellows-target-text">Unit 5: BGP Filtering</span><button class="bellows-subtoggle" aria-label="Toggle Submenu"><i class="bellows-subtoggle-icon-expand fa fa-plus-square"></i><i class="bellows-subtoggle-icon-collapse fa fa-minus-square"></i></button></span>
<ul class="bellows-submenu">
	<li id="menu-item-18720" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18720 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-regular-expressions-examples" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Regular Expressions</span></a></li>
	<li id="menu-item-18721" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18721 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-prevent-transit-as" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Transit AS</span></a></li>
	<li id="menu-item-18722" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18722 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-ipv6-route-filtering-on-cisco-ios" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP IPv6 route filtering</span></a></li>
	<li id="menu-item-18723" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18723 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-as-path-filter-example" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP AS Path Filter</span></a></li>
	<li id="menu-item-18830" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18830 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-extended-access-list-filtering" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Extended Access-List Filtering</span></a></li>
</ul>
</li>
<li id="menu-item-18724" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-has-children bellows-menu-item-18724 bellows-item-level-0"><span  class="bellows-target"><span class="bellows-target-title bellows-target-text">Unit 6: Advanced BGP Features</span><button class="bellows-subtoggle" aria-label="Toggle Submenu"><i class="bellows-subtoggle-icon-expand fa fa-plus-square"></i><i class="bellows-subtoggle-icon-collapse fa fa-minus-square"></i></button></span>
<ul class="bellows-submenu">
	<li id="menu-item-66434" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-66434 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-route-dampening" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Route Dampening</span></a></li>
	<li id="menu-item-18725" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18725 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-peer-groups-on-cisco-ios" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Peer Groups</span></a></li>
	<li id="menu-item-18726" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18726 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-route-reflector" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Route Reflector</span></a></li>
	<li id="menu-item-18727" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18727 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-confederation-explained" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Confederations</span></a></li>
	<li id="menu-item-18728" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18728 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-synchronization" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Synchronization</span></a></li>
	<li id="menu-item-18729" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18729 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-backdoor-routes" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Backdoor Routes</span></a></li>
	<li id="menu-item-18730" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18730 bellows-item-level-1"><a  href="https://networklessons.com/bgp/multiprotocol-bgp-mp-bgp-configuration" class="bellows-target"><span class="bellows-target-title bellows-target-text">MP-BGP (multi-protocol BGP)</span></a></li>
	<li id="menu-item-18731" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18731 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-private-and-public-as-range" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Private and Public AS Numbers</span></a></li>
	<li id="menu-item-18732" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18732 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-remove-private-as" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Remove Private AS Numbers</span></a></li>
	<li id="menu-item-55763" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-55763 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-4-byte-number" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP 4-byte AS numbers</span></a></li>
	<li id="menu-item-18733" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18733 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-soft-reset-reconfiguration" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Soft Reconfiguration</span></a></li>
	<li id="menu-item-18734" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-18734 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-route-refresh-capability" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Route Refresh Capability</span></a></li>
	<li id="menu-item-20533" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-20533 bellows-item-level-1"><a  href="https://networklessons.com/bgp/mpls-layer-3-vpn-bgp-allow-as-in" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Allow AS in</span></a></li>
	<li id="menu-item-20534" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-20534 bellows-item-level-1"><a  href="https://networklessons.com/bgp/mpls-layer-3-vpn-bgp-override" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP AS Override</span></a></li>
	<li id="menu-item-55796" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-55796 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-aggregate-as-set" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Aggregate AS-SET</span></a></li>
	<li id="menu-item-55810" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-55810 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-multipath-load-sharing-ibgp-and-ebgp" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Multipath eBGP and iBGP</span></a></li>
</ul>
</li>
<li id="menu-item-55838" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-current-menu-ancestor bellows-current-menu-parent bellows-menu-item-has-children bellows-menu-item-55838 bellows-item-level-0"><span  class="bellows-target"><span class="bellows-target-title bellows-target-text">Unit 7: BGP Convergence</span><button class="bellows-subtoggle" aria-label="Toggle Submenu"><i class="bellows-subtoggle-icon-expand fa fa-plus-square"></i><i class="bellows-subtoggle-icon-collapse fa fa-minus-square"></i></button></span>
<ul class="bellows-submenu">
	<li id="menu-item-70464" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-70464 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-route-leaking" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Route Leaking</span></a></li>
	<li id="menu-item-70559" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-70559 bellows-item-level-1"><a  href="https://networklessons.com/bgp/resource-public-key-infrastructure-rpki" class="bellows-target"><span class="bellows-target-title bellows-target-text">Resource Public Key Infrastructure (RPKI)</span></a></li>
	<li id="menu-item-70510" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-70510 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-prefix-origin-as-validation-with-rpki" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Prefix Origin AS Validation with RPKI</span></a></li>
	<li id="menu-item-55972" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-55972 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-next-hop-address-tracking" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Next Hop Tracking</span></a></li>
	<li id="menu-item-55837" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-menu-item-55837 bellows-item-level-1"><a  href="https://networklessons.com/bgp/bgp-additional-paths" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP Additional Paths</span></a></li>
	<li id="menu-item-55867" class="bellows-menu-item bellows-menu-item-type-custom bellows-menu-item-object-custom bellows-current-menu-item bellows-menu-item-55867 bellows-item-level-1 bellows-current-menu-item"><a  href="https://networklessons.com/bgp/bgp-pic-prefix-independent-convergence-core-edge" class="bellows-target"><span class="bellows-target-title bellows-target-text">BGP PIC (Prefix Independent Convergence)</span></a></li>
</ul>
</li>
</ul></nav></div></p>
</section>    </aside>
</div>

</div><!-- end .row -->
</div><!-- end .container -->
<div class="container">
<div class="row">

    <div class="col-12">
		
		<div class="cmd_post_nav"><div class="cmd_previous"><a href="https://networklessons.com/bgp/bgp-additional-paths" rel="prev"><strong>Previous Lesson</strong><br>BGP Additional Paths</a></div></div>	    <p class="tags">Tags: <a href="https://networklessons.com/tag/cef" rel="tag">CEF</a></p>
        <hr>

		    <div id="comments" class="comments-area discourse-comments-area">
        <h2 class="comments-title discourse-comments-title">Forum Replies</h2>
        <ol class="comment-list">		<li class="comment even depth-1">
			<article class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt="Avatar for chrisnewnham17" src="https://cdn-forum.networklessons.com/letter_avatar_proxy/v4/letter/c/f9ae1b/64.png" class="avatar avatar-64 photo avatar-default" height="64" width="64">
						<b class="fn"><a href="https://forum.networklessons.com/t/bgp-pic-prefix-independent-convergence-core-edge/3367" rel="external" class="url">chrisnewnham17</a></b>
						<span class="says screen-reader-text">says:</span><!-- screen reader text -->
					</div>
					<div class="comment-metadata">
						<time datetime=""></time>
					</div>
				</footer>
				<div class="comment-content"><p><p>Great lesson, Rene!</p>
<p>I studied this from the Cisco documentation but they never explained in clear terms what was going on, but you managed it!</p>
<p>Small typo (should be 88.88.88.88/32?):</p>
<blockquote>
<p>88.88.88.88/43 via 192.168.24.4 interface GigabitEthernet0/1</p>
</blockquote>
<p>Also could you provide the configs for PIC edge, at the end?</p>
<p>===</p>
<p>Just came across this quote from Cisco:</p>
<blockquote>
<p>PIC core ensures fast convergence for BGP routes when there is a link or node failure in the core that causes a change in the IGP reachability to a remote BGP next-hop address.</p>
<p>PIC edge ensures fast convergence to a</p></blockquote><strong><a href="https://forum.networklessons.com/t/bgp-pic-prefix-independent-convergence-core-edge/3367/2" target="_blank">... Continue reading in our forum</a></strong></p></div>
			</article>
		</li>
				<li class="comment odd depth-1">
			<article class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt="Avatar for lagapidis" src="https://cdn-forum.networklessons.com/user_avatar/forum.networklessons.com/lagapidis/64/4949_2.png" class="avatar avatar-64 photo avatar-default" height="64" width="64">
						<b class="fn"><a href="https://forum.networklessons.com/t/bgp-pic-prefix-independent-convergence-core-edge/3367" rel="external" class="url">lagapidis</a></b>
						<span class="says screen-reader-text">says:</span><!-- screen reader text -->
					</div>
					<div class="comment-metadata">
						<time datetime=""></time>
					</div>
				</footer>
				<div class="comment-content"><p><p>Hello Chris</p>
<aside class="quote no-group" data-username="chrisnewnham17" data-post="2" data-topic="3367">
<div class="title">
<div class="quote-controls"></div>
<p><a href="https://cdn-forum.networklessons.com/letter_avatar_proxy/v4/letter/c/f9ae1b/48.png" target="_blank" rel="nofollow">https://cdn-forum.networklessons.com/letter_avatar_proxy/v4/letter/c/f9ae1b/48.png</a></p> chrisnewnham17:</div>
<blockquote>
<p>Small typo</p>
</blockquote>
</aside>
<p>Thanks for pointing that out, I‚Äôll let Rene know‚Ä¶</p>
<p>I‚Äôll also let him know about the request for the configurations for PIC edge.</p>
<aside class="quote no-group" data-username="chrisnewnham17" data-post="2" data-topic="3367">
<div class="title">
<div class="quote-controls"></div>
<p><a href="https://cdn-forum.networklessons.com/letter_avatar_proxy/v4/letter/c/f9ae1b/48.png" target="_blank" rel="nofollow">https://cdn-forum.networklessons.com/letter_avatar_proxy/v4/letter/c/f9ae1b/48.png</a></p> chrisnewnham17:</div>
<blockquote>
<p>In your example you use iBGP between PE‚Äôs for obvious reasons, so I‚Äôm a bit surprised they say PIC edge is for ‚Äúexternal neighbours‚Äù?</p>
</blockquote>
</aside>
<p>The Cisco comment is indeed correct.  Even though iBGP is run between PE</p><strong><a href="https://forum.networklessons.com/t/bgp-pic-prefix-independent-convergence-core-edge/3367/3" target="_blank">... Continue reading in our forum</a></strong></p></div>
			</article>
		</li>
				<li class="comment even depth-1">
			<article class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt="Avatar for chrisnewnham17" src="https://cdn-forum.networklessons.com/letter_avatar_proxy/v4/letter/c/f9ae1b/64.png" class="avatar avatar-64 photo avatar-default" height="64" width="64">
						<b class="fn"><a href="https://forum.networklessons.com/t/bgp-pic-prefix-independent-convergence-core-edge/3367" rel="external" class="url">chrisnewnham17</a></b>
						<span class="says screen-reader-text">says:</span><!-- screen reader text -->
					</div>
					<div class="comment-metadata">
						<time datetime=""></time>
					</div>
				</footer>
				<div class="comment-content"><p><p>Thanks Laz.</p>
<p>Still don‚Äôt really agree though - PIC edge is clearly addressing data plane convergence for IBGP neighbours in a service provider environment.</p>
<p>I just can‚Äôt see how that can be possible be called ‚Äúexternal neighbours‚Äù, which implies the BGP neighbour operates in a different AS when in fact it doesn‚Äôt. The external customer may not even be running BGP!</p>
<p>Oh well!</p></p></div>
			</article>
		</li>
				<li class="comment odd depth-1">
			<article class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt="Avatar for ReneMolenaar" src="https://cdn-forum.networklessons.com/user_avatar/forum.networklessons.com/renemolenaar/64/488_2.png" class="avatar avatar-64 photo avatar-default" height="64" width="64">
						<b class="fn"><a href="https://forum.networklessons.com/t/bgp-pic-prefix-independent-convergence-core-edge/3367" rel="external" class="url">ReneMolenaar</a></b>
						<span class="says screen-reader-text">says:</span><!-- screen reader text -->
					</div>
					<div class="comment-metadata">
						<time datetime=""></time>
					</div>
				</footer>
				<div class="comment-content"><p><p>Hi Chris,</p>
<p>If you still need them, I just added the configs for PIC edge.</p>
<aside class="quote no-group" data-username="chrisnewnham17" data-post="2" data-topic="3367">
<div class="title">
<div class="quote-controls"></div>
<p><a href="https://cdn-forum.networklessons.com/letter_avatar_proxy/v4/letter/c/f9ae1b/48.png" target="_blank" rel="nofollow">https://cdn-forum.networklessons.com/letter_avatar_proxy/v4/letter/c/f9ae1b/48.png</a></p> chrisnewnham17:</div>
<blockquote>
<p>PIC edge ensures fast convergence to a BGP backup path when an external (eBGP) edge link or an external neighbor node fails.</p>
</blockquote>
</aside>
<p>I agree that this Cisco quote is a bit strange. PIC edge is really about fast failover to an edge router in your own network.</p>
<p>Rene</p></p></div>
			</article>
		</li>
				<li class="comment even depth-1">
			<article class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt="Avatar for noa.mozes" src="https://cdn-forum.networklessons.com/letter_avatar_proxy/v4/letter/n/e5b9ba/64.png" class="avatar avatar-64 photo avatar-default" height="64" width="64">
						<b class="fn"><a href="https://forum.networklessons.com/t/bgp-pic-prefix-independent-convergence-core-edge/3367" rel="external" class="url">noa.mozes</a></b>
						<span class="says screen-reader-text">says:</span><!-- screen reader text -->
					</div>
					<div class="comment-metadata">
						<time datetime=""></time>
					</div>
				</footer>
				<div class="comment-content"><p><p>Hi Rene,<br>
Wonderful explanation, probably not found anywhere.<br>
My question is until when PE1 will use PE4 as NH in PIC edge? In case PE3 is up again, will it be revertive ?<br>
2nd question-: if MPLS is enabled in ISP, will we have H-LFIB as well?</p></p></div>
			</article>
		</li>
		</ol>
        <div class="respond comment-respond">
            <p id="reply-title" class="comment-reply-title"><strong><a href="https://forum.networklessons.com/t/bgp-pic-prefix-independent-convergence-core-edge/3367" target="_blank">22 more replies!</a></strong> Ask a question or join the discussion by visiting our <a href="https://forum.networklessons.com/t/bgp-pic-prefix-independent-convergence-core-edge/3367" target="_blank">Community Forum</a></p>
        </div>
    </div>
        </div>


		</div>
	</div>

	<footer class="site-footer">
        <div class="container">
            <div class="site-footer-inner">
                <div class="copyright">
                    &copy; 2013 - 2024 NetworkLessons.com 65289                </div>
                <div class="menu-footer-container"><ul id="footer-menu" class="menu"><li id="menu-item-22469" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-22469"><a href="https://networklessons.com/disclaimer">Disclaimer</a></li>
<li id="menu-item-22470" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-22470"><a rel="privacy-policy" href="https://networklessons.com/privacy-policy">Privacy Policy</a></li>
<li id="menu-item-22468" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-22468"><a href="https://networklessons.com/support">Support</a></li>
<li id="menu-item-59827" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-59827"><a href="https://networklessons.com/about-networklessons-com">About</a></li>
</ul></div>            </div>
        </div>
    </footer>
</div>

<script type="text/javascript">var algolia = {"debug":false,"application_id":"JYCQGPKUUY","search_api_key":"294cbcc6c53b2ccb6f80f0410f485afe","powered_by_enabled":false,"query":"","autocomplete":{"sources":[],"input_selector":"input[name='s']:not(.no-autocomplete):not(#adminbar-search)"},"indices":{"searchable_posts":{"name":"wp_searchable_posts","id":"searchable_posts","enabled":true,"replicas":[]}}};</script><link rel='stylesheet' id='tabby-css' href='https://cdn.networklessons.com/wp-content/plugins/tabby-responsive-tabs/css/tabby.css?ver=1.4.1' type='text/css' media='all' />
<link rel='stylesheet' id='tabby-print-css' href='https://cdn.networklessons.com/wp-content/plugins/tabby-responsive-tabs/css/tabby-print.css?ver=1.4.1' type='text/css' media='print' />
<script type="text/javascript" src="https://cdn.networklessons.com/wp-content/plugins/duracelltomi-google-tag-manager/dist/js/gtm4wp-form-move-tracker.js?ver=1.20.2" id="gtm4wp-form-move-tracker-js"></script>
<script type="text/javascript" src="https://player.vimeo.com/api/player.js?ver=1.0" id="gtm4wp-vimeo-api-js"></script>
<script type="text/javascript" src="https://cdn.networklessons.com/wp-content/plugins/duracelltomi-google-tag-manager/dist/js/gtm4wp-vimeo.js?ver=1.20.2" id="gtm4wp-vimeo-js"></script>
<script type="text/javascript" src="https://cdn.networklessons.com/wp-content/themes/networklessons/dist/bundle.js?ver=1702771200" id="networklessons-script-js"></script>
<script type="text/javascript" src="https://cdn.networklessons.com/wp-content/themes/networklessons/dist/magnific-popup/jquery.magnific-popup.min.js?ver=1.1.0" id="magnific-popup-jquery-js"></script>
<script type="text/javascript" src="https://cdn.networklessons.com/wp-content/themes/networklessons/dist/magnific-popup/jquery.magnific-popup.js?ver=1.1.0" id="magnific-popup-core-js-js"></script>
<script type="text/javascript" id="bellows-js-extra">
/* <![CDATA[ */
var bellows_data = {"config":{"main":{"folding":"multiple","current":"on","slide_speed":400}},"v":"1.4.3"};
/* ]]> */
</script>
<script type="text/javascript" src="https://cdn.networklessons.com/wp-content/plugins/bellows-pro/assets/js/bellows.min.js?ver=1.4.3" id="bellows-js"></script>
<script type="text/javascript" src="https://cdn.networklessons.com/wp-content/plugins/advanced-responsive-video-embedder/build/main.js?ver=755e5bf2bfafc15e7cc1" id="arve-js" async="async" data-wp-strategy="async"></script>
<script type="text/javascript" src="https://cdn.networklessons.com/wp-content/plugins/arve-pro/build/main.js?ver=eea34735566740155d0f" id="arve-pro-js" defer="defer" data-wp-strategy="defer"></script>
<script type="text/javascript" src="https://cdn.networklessons.com/wp-content/plugins/tabby-responsive-tabs/js/tabby.js?ver=1.4.1" id="tabby-js"></script>
<script type="text/javascript" id="tabby-js-after">
/* <![CDATA[ */
jQuery(document).ready(function($) { RESPONSIVEUI.responsiveTabs(); })
/* ]]> */
</script>

</body>
</html>

<!-- This website is like a Rocket, isn't it? Performance optimized by WP Rocket. Learn more: https://wp-rocket.me -->